!function(Q){function F(F){for(var B,n,c=F[0],r=F[1],l=F[2],I=0,a=[];I<c.length;I++)n=c[I],Object.prototype.hasOwnProperty.call(e,n)&&e[n]&&a.push(e[n][0]),e[n]=0;for(B in r)Object.prototype.hasOwnProperty.call(r,B)&&(Q[B]=r[B]);for(t&&t(F);a.length;)a.shift()();return s.push.apply(s,l||[]),U()}function U(){for(var Q,F=0;F<s.length;F++){for(var U=s[F],B=!0,c=1;c<U.length;c++){var r=U[c];0!==e[r]&&(B=!1)}B&&(s.splice(F--,1),Q=n(n.s=U[0]))}return Q}var B={},e={0:0},s=[];function n(F){if(B[F])return B[F].exports;var U=B[F]={i:F,l:!1,exports:{}};return Q[F].call(U.exports,U,U.exports,n),U.l=!0,U.exports}n.m=Q,n.c=B,n.d=function(Q,F,U){n.o(Q,F)||Object.defineProperty(Q,F,{enumerable:!0,get:U})},n.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},n.t=function(Q,F){if(1&F&&(Q=n(Q)),8&F)return Q;if(4&F&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var U=Object.create(null);if(n.r(U),Object.defineProperty(U,"default",{enumerable:!0,value:Q}),2&F&&"string"!=typeof Q)for(var B in Q)n.d(U,B,function(F){return Q[F]}.bind(null,B));return U},n.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return n.d(F,"a",F),F},n.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},n.p="";var c=window.webpackJsonp=window.webpackJsonp||[],r=c.push.bind(c);c.push=F,c=c.slice();for(var l=0;l<c.length;l++)F(c[l]);var t=r;s.push([1,1]),U()}([function(module,exports,__webpack_require__){"use strict";eval('\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError("Generator is already executing.");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\n/**\r\n * Available source options\r\n */\r\nvar SrcOption;\r\n(function (SrcOption) {\r\n    SrcOption["mic"] = "mic";\r\n    SrcOption["file"] = "file";\r\n    SrcOption["truck"] = "truck";\r\n    SrcOption["f500_1000_1000"] = "f500_1000_1000";\r\n})(SrcOption = exports.SrcOption || (exports.SrcOption = {}));\r\n/**\r\n * Labels for different source options\r\n */\r\nvar srcLabels = {\r\n    truck: \'Truck Driving\',\r\n    mic: \'Microphone\',\r\n    file: \'Load Audio File from URL\',\r\n    f500_1000_1000: \'500Hz, 1kHz and 10kHz signals\'\r\n};\r\n/**\r\n * Default audio source files\r\n */\r\nexports.sourceAudioFiles = {\r\n    truck: \'Truck_driving_by-Jason_Baker-2112866529.wav\',\r\n    f500_1000_1000: \'500_1000_10000.wav\'\r\n};\r\n/**\r\n * Cache of loaded audio files\r\n */\r\nvar loadedFiles = {};\r\n/**\r\n * Load audio file from url\r\n * @param url URL of the audio file\r\n * @param audioCtx AudioContext\r\n */\r\nexports.loadAudioFile = function (url, audioCtx) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var request, buffer, audioBuffer;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                // if the file is already cached\r\n                if (loadedFiles[url]) {\r\n                    return [2 /*return*/, loadedFiles[url]];\r\n                }\r\n                return [4 /*yield*/, fetch(url)];\r\n            case 1:\r\n                request = _a.sent();\r\n                return [4 /*yield*/, request.arrayBuffer()];\r\n            case 2:\r\n                buffer = _a.sent();\r\n                return [4 /*yield*/, audioCtx.decodeAudioData(buffer)];\r\n            case 3:\r\n                audioBuffer = _a.sent();\r\n                loadedFiles[url] = audioBuffer;\r\n                return [2 /*return*/, audioBuffer];\r\n        }\r\n    });\r\n}); };\r\n/**\r\n * Create the options for different audio sources\r\n */\r\nexports.setupSourceLabels = function () {\r\n    var selector = document.getElementById(\'src-selector\');\r\n    Object.keys(srcLabels).forEach(function (key) {\r\n        var option = document.createElement(\'option\');\r\n        option.value = key;\r\n        option.text = srcLabels[key];\r\n        selector.appendChild(option);\r\n    });\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXVkaW9Tb3VyY2VzLnRzPzc2OGUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7R0FFRztBQUNILElBQVksU0FLWDtBQUxELFdBQVksU0FBUztJQUNqQix3QkFBVztJQUNYLDBCQUFhO0lBQ2IsNEJBQWU7SUFDZiw4Q0FBaUM7QUFDckMsQ0FBQyxFQUxXLFNBQVMsR0FBVCxpQkFBUyxLQUFULGlCQUFTLFFBS3BCO0FBRUQ7O0dBRUc7QUFDSCxJQUFNLFNBQVMsR0FBZ0Q7SUFDM0QsS0FBSyxFQUFFLGVBQWU7SUFDdEIsR0FBRyxFQUFFLFlBQVk7SUFDakIsSUFBSSxFQUFFLDBCQUEwQjtJQUNoQyxjQUFjLEVBQUUsK0JBQStCO0NBQ2xEO0FBRUQ7O0dBRUc7QUFDVSx3QkFBZ0IsR0FBRztJQUM1QixLQUFLLEVBQUUsNkNBQTZDO0lBQ3BELGNBQWMsRUFBRSxvQkFBb0I7Q0FDdkM7QUFFRDs7R0FFRztBQUNILElBQU0sV0FBVyxHQUFtQyxFQUFFO0FBRXREOzs7O0dBSUc7QUFDVSxxQkFBYSxHQUFHLFVBQU8sR0FBVyxFQUFFLFFBQXNCOzs7OztnQkFDbkUsZ0NBQWdDO2dCQUNoQyxJQUFJLFdBQVcsQ0FBQyxHQUFHLENBQUMsRUFBRTtvQkFDbEIsc0JBQU8sV0FBVyxDQUFDLEdBQUcsQ0FBQztpQkFDMUI7Z0JBRWUscUJBQU0sS0FBSyxDQUFDLEdBQUcsQ0FBQzs7Z0JBQTFCLE9BQU8sR0FBRyxTQUFnQjtnQkFDakIscUJBQU0sT0FBTyxDQUFDLFdBQVcsRUFBRTs7Z0JBQXBDLE1BQU0sR0FBRyxTQUEyQjtnQkFDdEIscUJBQU0sUUFBUSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUM7O2dCQUFwRCxXQUFXLEdBQUcsU0FBc0M7Z0JBRTFELFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxXQUFXO2dCQUM5QixzQkFBTyxXQUFXOzs7S0FDckI7QUFFRDs7R0FFRztBQUNVLHlCQUFpQixHQUFHO0lBQzdCLElBQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDO0lBQ3hELE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsT0FBTyxDQUFDLGFBQUc7UUFDOUIsSUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUM7UUFDL0MsTUFBTSxDQUFDLEtBQUssR0FBRyxHQUFHO1FBQ2xCLE1BQU0sQ0FBQyxJQUFJLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQztRQUM1QixRQUFRLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQztJQUNoQyxDQUFDLENBQUM7QUFDTixDQUFDIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQXZhaWxhYmxlIHNvdXJjZSBvcHRpb25zXHJcbiAqL1xyXG5leHBvcnQgZW51bSBTcmNPcHRpb24ge1xyXG4gICAgbWljID0gJ21pYycsXHJcbiAgICBmaWxlID0gJ2ZpbGUnLFxyXG4gICAgdHJ1Y2sgPSAndHJ1Y2snLFxyXG4gICAgZjUwMF8xMDAwXzEwMDAgPSAnZjUwMF8xMDAwXzEwMDAnXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMYWJlbHMgZm9yIGRpZmZlcmVudCBzb3VyY2Ugb3B0aW9uc1xyXG4gKi9cclxuY29uc3Qgc3JjTGFiZWxzOiB7IFtrZXkgaW4ga2V5b2YgdHlwZW9mIFNyY09wdGlvbl06IHN0cmluZyB9ID0ge1xyXG4gICAgdHJ1Y2s6ICdUcnVjayBEcml2aW5nJyxcclxuICAgIG1pYzogJ01pY3JvcGhvbmUnLFxyXG4gICAgZmlsZTogJ0xvYWQgQXVkaW8gRmlsZSBmcm9tIFVSTCcsXHJcbiAgICBmNTAwXzEwMDBfMTAwMDogJzUwMEh6LCAxa0h6IGFuZCAxMGtIeiBzaWduYWxzJ1xyXG59XHJcblxyXG4vKipcclxuICogRGVmYXVsdCBhdWRpbyBzb3VyY2UgZmlsZXNcclxuICovXHJcbmV4cG9ydCBjb25zdCBzb3VyY2VBdWRpb0ZpbGVzID0ge1xyXG4gICAgdHJ1Y2s6ICdUcnVja19kcml2aW5nX2J5LUphc29uX0Jha2VyLTIxMTI4NjY1Mjkud2F2JyxcclxuICAgIGY1MDBfMTAwMF8xMDAwOiAnNTAwXzEwMDBfMTAwMDAud2F2J1xyXG59XHJcblxyXG4vKipcclxuICogQ2FjaGUgb2YgbG9hZGVkIGF1ZGlvIGZpbGVzXHJcbiAqL1xyXG5jb25zdCBsb2FkZWRGaWxlczogeyBba2V5OiBzdHJpbmddOiBBdWRpb0J1ZmZlciB9ID0ge31cclxuXHJcbi8qKlxyXG4gKiBMb2FkIGF1ZGlvIGZpbGUgZnJvbSB1cmxcclxuICogQHBhcmFtIHVybCBVUkwgb2YgdGhlIGF1ZGlvIGZpbGVcclxuICogQHBhcmFtIGF1ZGlvQ3R4IEF1ZGlvQ29udGV4dFxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGxvYWRBdWRpb0ZpbGUgPSBhc3luYyAodXJsOiBzdHJpbmcsIGF1ZGlvQ3R4OiBBdWRpb0NvbnRleHQpOiBQcm9taXNlPEF1ZGlvQnVmZmVyPiA9PiB7XHJcbiAgICAvLyBpZiB0aGUgZmlsZSBpcyBhbHJlYWR5IGNhY2hlZFxyXG4gICAgaWYgKGxvYWRlZEZpbGVzW3VybF0pIHtcclxuICAgICAgICByZXR1cm4gbG9hZGVkRmlsZXNbdXJsXVxyXG4gICAgfVxyXG4gICAgLy8gZmlsZSBub3QgY2FjaGVkIHlldFxyXG4gICAgY29uc3QgcmVxdWVzdCA9IGF3YWl0IGZldGNoKHVybClcclxuICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IHJlcXVlc3QuYXJyYXlCdWZmZXIoKVxyXG4gICAgY29uc3QgYXVkaW9CdWZmZXIgPSBhd2FpdCBhdWRpb0N0eC5kZWNvZGVBdWRpb0RhdGEoYnVmZmVyKVxyXG5cclxuICAgIGxvYWRlZEZpbGVzW3VybF0gPSBhdWRpb0J1ZmZlclxyXG4gICAgcmV0dXJuIGF1ZGlvQnVmZmVyXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgdGhlIG9wdGlvbnMgZm9yIGRpZmZlcmVudCBhdWRpbyBzb3VyY2VzXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgc2V0dXBTb3VyY2VMYWJlbHMgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBzZWxlY3RvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcmMtc2VsZWN0b3InKVxyXG4gICAgT2JqZWN0LmtleXMoc3JjTGFiZWxzKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJylcclxuICAgICAgICBvcHRpb24udmFsdWUgPSBrZXlcclxuICAgICAgICBvcHRpb24udGV4dCA9IHNyY0xhYmVsc1trZXldXHJcbiAgICAgICAgc2VsZWN0b3IuYXBwZW5kQ2hpbGQob3B0aW9uKVxyXG4gICAgfSlcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n')},function(module,exports,__webpack_require__){"use strict";eval("\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__webpack_require__(2);\r\nvar audioSources_1 = __webpack_require__(0);\r\nvar controls_1 = __webpack_require__(6);\r\nvar audioVisualizer_1 = __webpack_require__(7);\r\n/**\r\n * Current Audio source\r\n */\r\nvar src = audioSources_1.SrcOption.mic;\r\n// setup the source selector\r\naudioSources_1.setupSourceLabels();\r\n// create a new instance of the AudioVisualizer class, this handles all of the actual visualization work\r\nvar audioVisualizer = new audioVisualizer_1.AudioVisualizer();\r\n// attach the play and pause buttons to the audioVisualizer play and pause methods\r\ncontrols_1.setupPlayPause(audioVisualizer.play.bind(audioVisualizer), audioVisualizer.pause.bind(audioVisualizer));\r\nvar srcSelector = document.getElementById('src-selector');\r\nvar audioFileUrlPlay = document.getElementById('load-url');\r\nvar audioFileUrl = document.getElementById('audio-file');\r\n/**\r\n * Audio file from url play\r\n */\r\naudioFileUrlPlay.addEventListener('click', function () { return __awaiter(void 0, void 0, void 0, function () {\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0: return [4 /*yield*/, listenToFileURL(audioFileUrl.value)];\r\n            case 1:\r\n                _a.sent();\r\n                return [4 /*yield*/, audioVisualizer.play()];\r\n            case 2:\r\n                _a.sent();\r\n                return [2 /*return*/];\r\n        }\r\n    });\r\n}); });\r\n/**\r\n * Update the current visualizer source\r\n */\r\nvar updateSource = function () { return __awaiter(void 0, void 0, void 0, function () {\r\n    var selectedOptionElement, ai, _a;\r\n    return __generator(this, function (_b) {\r\n        switch (_b.label) {\r\n            case 0:\r\n                selectedOptionElement = srcSelector[srcSelector.selectedIndex];\r\n                src = selectedOptionElement.value;\r\n                if (src === audioSources_1.SrcOption.file) {\r\n                    document.getElementById('audio-input').style.display = 'inline-block';\r\n                }\r\n                else {\r\n                    ai = document.getElementById('audio-input');\r\n                    ai.style.display = 'none';\r\n                    ai.value = '';\r\n                }\r\n                return [4 /*yield*/, audioVisualizer.pause()];\r\n            case 1:\r\n                _b.sent();\r\n                _a = src;\r\n                switch (_a) {\r\n                    case audioSources_1.SrcOption.mic: return [3 /*break*/, 2];\r\n                    case audioSources_1.SrcOption.file: return [3 /*break*/, 5];\r\n                    case audioSources_1.SrcOption.truck: return [3 /*break*/, 6];\r\n                    case audioSources_1.SrcOption.f500_1000_1000: return [3 /*break*/, 9];\r\n                }\r\n                return [3 /*break*/, 12];\r\n            case 2: return [4 /*yield*/, listenMic()];\r\n            case 3:\r\n                _b.sent();\r\n                return [4 /*yield*/, audioVisualizer.play()];\r\n            case 4:\r\n                _b.sent();\r\n                return [3 /*break*/, 12];\r\n            case 5:\r\n                audioVisualizer.setSource(undefined);\r\n                return [3 /*break*/, 12];\r\n            case 6: return [4 /*yield*/, listenToFileURL(audioSources_1.sourceAudioFiles.truck)];\r\n            case 7:\r\n                _b.sent();\r\n                return [4 /*yield*/, audioVisualizer.play()];\r\n            case 8:\r\n                _b.sent();\r\n                return [3 /*break*/, 12];\r\n            case 9: return [4 /*yield*/, listenToFileURL(audioSources_1.sourceAudioFiles.f500_1000_1000)];\r\n            case 10:\r\n                _b.sent();\r\n                return [4 /*yield*/, audioVisualizer.play()];\r\n            case 11:\r\n                _b.sent();\r\n                return [3 /*break*/, 12];\r\n            case 12: return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nsrcSelector.addEventListener('change', updateSource);\r\nupdateSource();\r\nvar listenElement = document.getElementById('listen');\r\n/**\r\n * Mute/unmute audio output based on the selection state\r\n */\r\nvar updateListenState = function () {\r\n    if (listenElement.checked) {\r\n        audioVisualizer.setGain(1);\r\n    }\r\n    else {\r\n        audioVisualizer.setGain(0);\r\n    }\r\n};\r\nlistenElement.addEventListener('change', updateListenState);\r\n/**\r\n * Listen to microphone\r\n */\r\nfunction listenMic() {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var src;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, audioVisualizer.createMicSource()];\r\n                case 1:\r\n                    src = _a.sent();\r\n                    audioVisualizer.setSource(src);\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n/**\r\n * Listen to a file from a url\r\n * @param url URL of the file\r\n */\r\nfunction listenToFileURL(url) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var src;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, audioVisualizer.createUrlSource(url)];\r\n                case 1:\r\n                    src = _a.sent();\r\n                    audioVisualizer.setSource(src);\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n/**\r\n * Update with a requestAnimationFrame loop\r\n */\r\nfunction update() {\r\n    audioVisualizer.update();\r\n    window.requestAnimationFrame(update);\r\n}\r\nwindow.requestAnimationFrame(update);\r\n// hide the play button if it's not needed\r\naudioVisualizer.getContext().addEventListener('statechange', function () {\r\n    if (!resumeElement.hidden && audioVisualizer.getState() !== 'suspended') {\r\n        resumeElement.hidden = true;\r\n    }\r\n});\r\n// handle cases where the audio context was created in suspended state\r\nvar resumeElement = document.getElementById('resume');\r\nresumeElement.addEventListener('click', function () {\r\n    audioVisualizer.play();\r\n});\r\nif (audioVisualizer.getState() === 'suspended') {\r\n    resumeElement.hidden = false;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwLnRzPzA2NmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx1QkFBMkI7QUFDM0IsNENBQStFO0FBQy9FLHdDQUEyQztBQUMzQywrQ0FBbUQ7QUFFbkQ7O0dBRUc7QUFDSCxJQUFJLEdBQUcsR0FBYyx3QkFBUyxDQUFDLEdBQUc7QUFFbEMsNEJBQTRCO0FBQzVCLGdDQUFpQixFQUFFO0FBRW5CLHdHQUF3RztBQUN4RyxJQUFNLGVBQWUsR0FBRyxJQUFJLGlDQUFlLEVBQUU7QUFFN0Msa0ZBQWtGO0FBQ2xGLHlCQUFjLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEVBQUUsZUFBZSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7QUFFdkcsSUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQXNCO0FBQ2hGLElBQU0sZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQXNCO0FBQ2pGLElBQU0sWUFBWSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFxQjtBQUU5RTs7R0FFRztBQUNILGdCQUFnQixDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRTs7O29CQUN2QyxxQkFBTSxlQUFlLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQzs7Z0JBQXpDLFNBQXlDO2dCQUN6QyxxQkFBTSxlQUFlLENBQUMsSUFBSSxFQUFFOztnQkFBNUIsU0FBNEI7Ozs7S0FDL0IsQ0FBQztBQUVGOztHQUVHO0FBQ0gsSUFBTSxZQUFZLEdBQUc7Ozs7O2dCQUNYLHFCQUFxQixHQUFHLFdBQVcsQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFzQjtnQkFDekYsR0FBRyxHQUFHLHFCQUFxQixDQUFDLEtBQWtCO2dCQUM5QyxJQUFJLEdBQUcsS0FBSyx3QkFBUyxDQUFDLElB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QVEsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDO0FBQ3ZELGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUU7SUFDcEMsZUFBZSxDQUFDLElBQUksRUFBRTtBQUMxQixDQUFDLENBQUM7QUFDRixJQUFJLGVBQWUsQ0FBQyxRQUFRLEVBQUUsS0FBSyxXQUFXLEVBQUU7SUFDNUMsYUFBYSxDQUFDLE1BQU0sR0FBRyxLQUFLO0NBQy9CIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4vc3R5bGVzL21haW4uc2NzcydcclxuaW1wb3J0IHsgU3JjT3B0aW9uLCBzZXR1cFNvdXJjZUxhYmVscywgc291cmNlQXVkaW9GaWxlcyB9IGZyb20gXCIuL2F1ZGlvU291cmNlc1wiXHJcbmltcG9ydCB7IHNldHVwUGxheVBhdXNlIH0gZnJvbSBcIi4vY29udHJvbHNcIlxyXG5pbXBvcnQgeyBBdWRpb1Zpc3VhbGl6ZXIgfSBmcm9tIFwiLi9hdWRpb1Zpc3VhbGl6ZXJcIlxyXG5cclxuLyoqXHJcbiAqIEN1cnJlbnQgQXVkaW8gc291cmNlXHJcbiAqL1xyXG5sZXQgc3JjOiBTcmNPcHRpb24gPSBTcmNPcHRpb24ubWljXHJcblxyXG4vLyBzZXR1cCB0aGUgc291cmNlIHNlbGVjdG9yXHJcbnNldHVwU291cmNlTGFiZWxzKClcclxuXHJcbi8vIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgQXVkaW9WaXN1YWxpemVyIGNsYXNzLCB0aGlzIGhhbmRsZXMgYWxsIG9mIHRoZSBhY3R1YWwgdmlzdWFsaXphdGlvbiB3b3JrXHJcbmNvbnN0IGF1ZGlvVmlzdWFsaXplciA9IG5ldyBBdWRpb1Zpc3VhbGl6ZXIoKVxyXG5cclxuLy8gYXR0YWNoIHRoZSBwbGF5IGFuZCBwYXVzZSBidXR0b25zIHRvIHRoZSBhdWRpb1Zpc3VhbGl6ZXIgcGxheSBhbmQgcGF1c2UgbWV0aG9kc1xyXG5zZXR1cFBsYXlQYXVzZShhdWRpb1Zpc3VhbGl6ZXIucGxheS5iaW5kKGF1ZGlvVmlzdWFsaXplciksIGF1ZGlvVmlzdWFsaXplci5wYXVzZS5iaW5kKGF1ZGlvVmlzdWFsaXplcikpXHJcblxyXG5jb25zdCBzcmNTZWxlY3RvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcmMtc2VsZWN0b3InKSBhcyBIVE1MU2VsZWN0RWxlbWVudFxyXG5jb25zdCBhdWRpb0ZpbGVVcmxQbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWQtdXJsJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnRcclxuY29uc3QgYXVkaW9GaWxlVXJsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1ZGlvLWZpbGUnKSBhcyBIVE1MSW5wdXRFbGVtZW50XHJcblxyXG4vKipcclxuICogQXVkaW8gZmlsZSBmcm9tIHVybCBwbGF5XHJcbiAqL1xyXG5hdWRpb0ZpbGVVcmxQbGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgYXdhaXQgbGlzdGVuVG9GaWxlVVJMKGF1ZGlvRmlsZVVybC52YWx1ZSlcclxuICAgIGF3YWl0IGF1ZGlvVmlzdWFsaXplci5wbGF5KClcclxufSlcclxuXHJcbi8qKlxyXG4gKiBVcGRhdGUgdGhlIGN1cnJlbnQgdmlzdWFsaXplciBzb3VyY2VcclxuICovXHJcbmNvbnN0IHVwZGF0ZVNvdXJjZSA9IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uRWxlbWVudCA9IHNyY1NlbGVjdG9yW3NyY1NlbGVjdG9yLnNlbGVjdGVkSW5kZXhdIGFzIEhUTUxPcHRpb25FbGVtZW50XHJcbiAgICBzcmMgPSBzZWxlY3RlZE9wdGlvbkVsZW1lbnQudmFsdWUgYXMgU3JjT3B0aW9uXHJcbiAgICBpZiAoc3JjID09PSBTcmNPcHRpb24uZmlsZSkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdWRpby1pbnB1dCcpLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJ1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBhaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdWRpby1pbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnRcclxuICAgICAgICBhaS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgICAgICAgYWkudmFsdWUgPSAnJ1xyXG4gICAgfVxyXG4gICAgYXdhaXQgYXVkaW9WaXN1YWxpemVyLnBhdXNlKClcclxuICAgIHN3aXRjaCAoc3JjKSB7XHJcbiAgICAgICAgY2FzZSBTcmNPcHRpb24ubWljOlxyXG4gICAgICAgICAgICBhd2FpdCBsaXN0ZW5NaWMoKVxyXG4gICAgICAgICAgICBhd2FpdCBhdWRpb1Zpc3VhbGl6ZXIucGxheSgpXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgY2FzZSBTcmNPcHRpb24uZmlsZTpcclxuICAgICAgICAgICAgYXVkaW9WaXN1YWxpemVyLnNldFNvdXJjZSh1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgY2FzZSBTcmNPcHRpb24udHJ1Y2s6XHJcbiAgICAgICAgICAgIGF3YWl0IGxpc3RlblRvRmlsZVVSTChzb3VyY2VBdWRpb0ZpbGVzLnRydWNrKVxyXG4gICAgICAgICAgICBhd2FpdCBhdWRpb1Zpc3VhbGl6ZXIucGxheSgpXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgY2FzZSBTcmNPcHRpb24uZjUwMF8xMDAwXzEwMDA6XHJcbiAgICAgICAgICAgIGF3YWl0IGxpc3RlblRvRmlsZVVSTChzb3VyY2VBdWRpb0ZpbGVzLmY1MDBfMTAwMF8xMDAwKVxyXG4gICAgICAgICAgICBhd2FpdCBhdWRpb1Zpc3VhbGl6ZXIucGxheSgpXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICB9XHJcbn1cclxuc3JjU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdXBkYXRlU291cmNlKVxyXG51cGRhdGVTb3VyY2UoKVxyXG5jb25zdCBsaXN0ZW5FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpc3RlbicpIGFzIEhUTUxJbnB1dEVsZW1lbnRcclxuXHJcbi8qKlxyXG4gKiBNdXRlL3VubXV0ZSBhdWRpbyBvdXRwdXQgYmFzZWQgb24gdGhlIHNlbGVjdGlvbiBzdGF0ZVxyXG4gKi9cclxuY29uc3QgdXBkYXRlTGlzdGVuU3RhdGUgPSAoKSA9PiB7XHJcbiAgICBpZiAobGlzdGVuRWxlbWVudC5jaGVja2VkKSB7XHJcbiAgICAgICAgYXVkaW9WaXN1YWxpemVyLnNldEdhaW4oMSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXVkaW9WaXN1YWxpemVyLnNldEdhaW4oMClcclxuICAgIH1cclxufVxyXG5cclxubGlzdGVuRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB1cGRhdGVMaXN0ZW5TdGF0ZSlcclxuXHJcbi8qKlxyXG4gKiBMaXN0ZW4gdG8gbWljcm9waG9uZVxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gbGlzdGVuTWljKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3Qgc3JjID0gYXdhaXQgYXVkaW9WaXN1YWxpemVyLmNyZWF0ZU1pY1NvdXJjZSgpXHJcbiAgICBhdWRpb1Zpc3VhbGl6ZXIuc2V0U291cmNlKHNyYylcclxufVxyXG5cclxuLyoqXHJcbiAqIExpc3RlbiB0byBhIGZpbGUgZnJvbSBhIHVybFxyXG4gKiBAcGFyYW0gdXJsIFVSTCBvZiB0aGUgZmlsZVxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gbGlzdGVuVG9GaWxlVVJMKHVybCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3Qgc3JjID0gYXdhaXQgYXVkaW9WaXN1YWxpemVyLmNyZWF0ZVVybFNvdXJjZSh1cmwpXHJcbiAgICBhdWRpb1Zpc3VhbGl6ZXIuc2V0U291cmNlKHNyYylcclxufVxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZSB3aXRoIGEgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGxvb3BcclxuICovXHJcbmZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuICAgIGF1ZGlvVmlzdWFsaXplci51cGRhdGUoKVxyXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpXHJcbn1cclxuXHJcbndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlKVxyXG5cclxuLy8gaGlkZSB0aGUgcGxheSBidXR0b24gaWYgaXQncyBub3QgbmVlZGVkXHJcbmF1ZGlvVmlzdWFsaXplci5nZXRDb250ZXh0KCkuYWRkRXZlbnRMaXN0ZW5lcignc3RhdGVjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICBpZiAoIXJlc3VtZUVsZW1lbnQuaGlkZGVuICYmIGF1ZGlvVmlzdWFsaXplci5nZXRTdGF0ZSgpICE9PSAnc3VzcGVuZGVkJykge1xyXG4gICAgICAgIHJlc3VtZUVsZW1lbnQuaGlkZGVuID0gdHJ1ZVxyXG4gICAgfVxyXG59KVxyXG5cclxuLy8gaGFuZGxlIGNhc2VzIHdoZXJlIHRoZSBhdWRpbyBjb250ZXh0IHdhcyBjcmVhdGVkIGluIHN1c3BlbmRlZCBzdGF0ZVxyXG5jb25zdCByZXN1bWVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VtZScpXHJcbnJlc3VtZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBhdWRpb1Zpc3VhbGl6ZXIucGxheSgpXHJcbn0pXHJcbmlmIChhdWRpb1Zpc3VhbGl6ZXIuZ2V0U3RhdGUoKSA9PT0gJ3N1c3BlbmRlZCcpIHtcclxuICAgIHJlc3VtZUVsZW1lbnQuaGlkZGVuID0gZmFsc2VcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n")},function(module,exports,__webpack_require__){eval("var api = __webpack_require__(3);\n            var content = __webpack_require__(4);\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(module.i, content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGVzL21haW4uc2Nzcz82OWM3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFVBQVUsbUJBQU8sQ0FBQyxDQUEyRTtBQUM3RiwwQkFBMEIsbUJBQU8sQ0FBQyxDQUFvRzs7QUFFdEk7O0FBRUE7QUFDQSwwQkFBMEIsUUFBUztBQUNuQzs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQixRQUFTOztBQUUxQjs7OztBQUlBIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL21haW4uc2Nzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShtb2R1bGUuaWQsIGNvbnRlbnQsIG9wdGlvbnMpO1xuXG52YXIgZXhwb3J0ZWQgPSBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDoge307XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydGVkOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n")},,function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(5);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "html,body{margin:0;min-height:100vh;overflow:hidden}.container{height:100%;min-height:100vh;width:100%;display:flex;flex-direction:column}.container #chart{flex:1 0 auto;display:flex;height:100%;width:100%}.container #chart canvas{height:auto !important}#resume{position:fixed;top:0;left:0;right:0;bottom:0;z-index:1;cursor:pointer}#resume img{width:100%;height:100%}#play-pause{position:relative;height:33px;height:33px;width:40px}#play-pause button{position:absolute;left:0;top:0}#github-link{position:fixed;display:block;top:0;right:0;margin-left:auto;z-index:2}#github-link img{display:block;margin-left:auto;margin-top:10px;margin-right:10px}#controls{position:fixed;top:0;z-index:1}#controls label{color:#e4e4e4}\\n", ""]);\n// Exports\nmodule.exports = exports;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGVzL21haW4uc2Nzcz8yN2Y0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0Esa0NBQWtDLG1CQUFPLENBQUMsQ0FBbUQ7QUFDN0Y7QUFDQTtBQUNBLGNBQWMsUUFBUyxhQUFhLFNBQVMsaUJBQWlCLGdCQUFnQixXQUFXLFlBQVksaUJBQWlCLFdBQVcsYUFBYSxzQkFBc0Isa0JBQWtCLGNBQWMsYUFBYSxZQUFZLFdBQVcseUJBQXlCLHVCQUF1QixRQUFRLGVBQWUsTUFBTSxPQUFPLFFBQVEsU0FBUyxVQUFVLGVBQWUsWUFBWSxXQUFXLFlBQVksWUFBWSxrQkFBa0IsWUFBWSxZQUFZLFdBQVcsbUJBQW1CLGtCQUFrQixPQUFPLE1BQU0sYUFBYSxlQUFlLGNBQWMsTUFBTSxRQUFRLGlCQUFpQixVQUFVLGlCQUFpQixjQUFjLGlCQUFpQixnQkFBZ0Isa0JBQWtCLFVBQVUsZUFBZSxNQUFNLFVBQVUsZ0JBQWdCLGNBQWM7QUFDeHVCO0FBQ0EiLCJmaWxlIjoiNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJodG1sLGJvZHl7bWFyZ2luOjA7bWluLWhlaWdodDoxMDB2aDtvdmVyZmxvdzpoaWRkZW59LmNvbnRhaW5lcntoZWlnaHQ6MTAwJTttaW4taGVpZ2h0OjEwMHZoO3dpZHRoOjEwMCU7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0uY29udGFpbmVyICNjaGFydHtmbGV4OjEgMCBhdXRvO2Rpc3BsYXk6ZmxleDtoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlfS5jb250YWluZXIgI2NoYXJ0IGNhbnZhc3toZWlnaHQ6YXV0byAhaW1wb3J0YW50fSNyZXN1bWV7cG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOjA7ei1pbmRleDoxO2N1cnNvcjpwb2ludGVyfSNyZXN1bWUgaW1ne3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9I3BsYXktcGF1c2V7cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OjMzcHg7aGVpZ2h0OjMzcHg7d2lkdGg6NDBweH0jcGxheS1wYXVzZSBidXR0b257cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowfSNnaXRodWItbGlua3twb3NpdGlvbjpmaXhlZDtkaXNwbGF5OmJsb2NrO3RvcDowO3JpZ2h0OjA7bWFyZ2luLWxlZnQ6YXV0bzt6LWluZGV4OjJ9I2dpdGh1Yi1saW5rIGltZ3tkaXNwbGF5OmJsb2NrO21hcmdpbi1sZWZ0OmF1dG87bWFyZ2luLXRvcDoxMHB4O21hcmdpbi1yaWdodDoxMHB4fSNjb250cm9sc3twb3NpdGlvbjpmaXhlZDt0b3A6MDt6LWluZGV4OjF9I2NvbnRyb2xzIGxhYmVse2NvbG9yOiNlNGU0ZTR9XFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n')},,function(module,exports,__webpack_require__){"use strict";eval('\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError("Generator is already executing.");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\n/**\r\n * Setup play and pause event listeners\r\n * @param onPlay Function to run when \'Play\' button is pressed\r\n * @param onPause Function to run when \'Pause\' button is pressed\r\n */\r\nexports.setupPlayPause = function (onPlay, onPause) {\r\n    var play = document.getElementById(\'play\');\r\n    play.addEventListener(\'click\', function () { return __awaiter(void 0, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, onPlay()];\r\n                case 1:\r\n                    _a.sent();\r\n                    play.hidden = true;\r\n                    pause.hidden = false;\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    }); });\r\n    var pause = document.getElementById(\'pause\');\r\n    pause.addEventListener(\'click\', function () { return __awaiter(void 0, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, onPause()];\r\n                case 1:\r\n                    _a.sent();\r\n                    pause.hidden = true;\r\n                    play.hidden = false;\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    }); });\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbHMudHM/ZGMwYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0dBSUc7QUFDVSxzQkFBYyxHQUFHLFVBQUMsTUFBTSxFQUFFLE9BQU87SUFDMUMsSUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUM7SUFDNUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRTs7O3dCQUMzQixxQkFBTSxNQUFNLEVBQUU7O29CQUFkLFNBQWM7b0JBQ2QsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJO29CQUNsQixLQUFLLENBQUMsTUFBTSxHQUFHLEtBQUs7Ozs7U0FDdkIsQ0FBQztJQUVGLElBQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDO0lBQzlDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUU7Ozt3QkFDNUIscUJBQU0sT0FBTyxFQUFFOztvQkFBZixTQUFlO29CQUNmLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSTtvQkFDbkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLOzs7O1NBQ3RCLENBQUM7QUFDTixDQUFDIiwiZmlsZSI6IjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogU2V0dXAgcGxheSBhbmQgcGF1c2UgZXZlbnQgbGlzdGVuZXJzXHJcbiAqIEBwYXJhbSBvblBsYXkgRnVuY3Rpb24gdG8gcnVuIHdoZW4gJ1BsYXknIGJ1dHRvbiBpcyBwcmVzc2VkXHJcbiAqIEBwYXJhbSBvblBhdXNlIEZ1bmN0aW9uIHRvIHJ1biB3aGVuICdQYXVzZScgYnV0dG9uIGlzIHByZXNzZWRcclxuICovXHJcbmV4cG9ydCBjb25zdCBzZXR1cFBsYXlQYXVzZSA9IChvblBsYXksIG9uUGF1c2UpID0+IHtcclxuICAgIGNvbnN0IHBsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheScpXHJcbiAgICBwbGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGF3YWl0IG9uUGxheSgpXHJcbiAgICAgICAgcGxheS5oaWRkZW4gPSB0cnVlXHJcbiAgICAgICAgcGF1c2UuaGlkZGVuID0gZmFsc2VcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgcGF1c2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGF1c2UnKVxyXG4gICAgcGF1c2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgYXdhaXQgb25QYXVzZSgpXHJcbiAgICAgICAgcGF1c2UuaGlkZGVuID0gdHJ1ZVxyXG4gICAgICAgIHBsYXkuaGlkZGVuID0gZmFsc2VcclxuICAgIH0pXHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n')},function(module,exports,__webpack_require__){"use strict";eval("\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar audioSources_1 = __webpack_require__(0);\r\nvar lcjs_1 = __webpack_require__(8);\r\nvar utils_1 = __webpack_require__(16);\r\n/**\r\n * Update points in a given array with new values\r\n * @param arr Array of points to update\r\n * @param buf Input data buffer\r\n * @param xScaler Scaler for the X-values\r\n * @param yScaler Scaler for the Y-values\r\n */\r\nfunction updatePoints(arr, buf, xScaler, yScaler) {\r\n    if (xScaler === void 0) { xScaler = utils_1.noScaler; }\r\n    if (yScaler === void 0) { yScaler = utils_1.noScaler; }\r\n    arr.forEach(function (p, i) {\r\n        p.y = yScaler(buf[i]);\r\n        p.x = xScaler(i);\r\n    });\r\n}\r\n/**\r\n * Convert ArrayBuffer to a Point array\r\n * @param buf Buffer to convert to point array\r\n * @param xScaler Scaler for the X-values\r\n * @param yScaler Scaler for the Y-values\r\n */\r\nfunction ArrayBufferToPointArray(buf, xScaler, yScaler) {\r\n    if (xScaler === void 0) { xScaler = utils_1.noScaler; }\r\n    if (yScaler === void 0) { yScaler = utils_1.noScaler; }\r\n    return Array.from(buf).map(function (p, i) { return ({ x: xScaler(i), y: yScaler(p) }); });\r\n}\r\n/**\r\n * Audio Visualizer\r\n *\r\n * Visualizes given Audio source\r\n */\r\nvar AudioVisualizer = /** @class */ (function () {\r\n    function AudioVisualizer() {\r\n        var _this = this;\r\n        /**\r\n         * The 'time' of the last waveform data input point\r\n         */\r\n        this._lastTime = 0;\r\n        // setup the audio context\r\n        this._audioCtx = new AudioContext();\r\n        this._audioNodes = {\r\n            analyzer: this._audioCtx.createAnalyser(),\r\n            // the script processor node is deprecated node so it will be removed in future\r\n            // it has been replaced with audio worklet but those have really bad browser support currently\r\n            processor: this._audioCtx.createScriptProcessor(undefined, 1, 1),\r\n            gain: this._audioCtx.createGain()\r\n        };\r\n        // mute audio output by default\r\n        this._audioNodes.gain.gain.setValueAtTime(0, this._audioCtx.currentTime);\r\n        // setup audio processor\r\n        this._audioNodes.processor.onaudioprocess = function (ev) {\r\n            // update data from analyzer\r\n            _this._audioNodes.analyzer.getByteTimeDomainData(_this._data.timeDomain);\r\n            _this._audioNodes.analyzer.getByteFrequencyData(_this._data.frequency);\r\n            var mScaler = utils_1.multiplierScaler(_this._audioCtx.sampleRate / _this._audioNodes.analyzer.fftSize);\r\n            var dScaler = utils_1.dbScaler(_this._audioNodes.analyzer);\r\n            // update frequency points\r\n            updatePoints(_this._points.frequency, _this._data.frequency, mScaler, dScaler);\r\n            // update history and max history data\r\n            for (var i = 0; i < _this._data.history.length; i++) {\r\n                _this._data.history[i] = Math.max(Math.max(_this._data.frequency[i], _this._data.history[i] - 25 / 1000), 0);\r\n                _this._data.maxHistory[i] = Math.max(Math.max(_this._data.frequency[i], _this._data.maxHistory[i]), 0);\r\n            }\r\n            // update frequency history points\r\n            updatePoints(_this._points.history, _this._data.history, mScaler, dScaler);\r\n            // update frequency max history points\r\n            updatePoints(_this._points.maxHistory, _this._data.maxHistory, mScaler, dScaler);\r\n            // update time domain points\r\n            updatePoints(_this._points.timeDomain, _this._data.timeDomain, utils_1.noScaler, utils_1.freqScaler);\r\n            // update time domain data\r\n            _this._series.timeDomain.clear();\r\n            _this._series.timeDomain.add(_this._points.timeDomain);\r\n            // add waveform data to the waveform series\r\n            var waveData = ArrayBufferToPointArray(_this._data.timeDomain, utils_1.offSetScaler(_this._lastTime), utils_1.freqScaler);\r\n            _this._series.waveform.add(waveData);\r\n            _this._lastTime += waveData.length;\r\n            // output the audio\r\n            ev.outputBuffer.copyToChannel(ev.inputBuffer.getChannelData(0), 0);\r\n        };\r\n        // setup node graph\r\n        this._audioNodes.analyzer.connect(this._audioNodes.processor);\r\n        this._audioNodes.processor.connect(this._audioNodes.gain);\r\n        this._audioNodes.gain.connect(this._audioCtx.destination);\r\n        // setup buffers\r\n        var fBinCount = this._audioNodes.analyzer.frequencyBinCount;\r\n        this._data = {\r\n            timeDomain: new Uint8Array(this._audioNodes.analyzer.fftSize),\r\n            frequency: new Uint8Array(fBinCount),\r\n            history: new Uint8Array(fBinCount),\r\n            maxHistory: new Uint8Array(fBinCount)\r\n        };\r\n        // setup point arrays\r\n        var mapXAxisToSampleRate = function (_, i) { return ({ x: (_this._audioCtx.sampleRate / _this._audioNodes.analyzer.fftSize * i), y: 0 }); };\r\n        this._points = {\r\n            timeDomain: Array.from(Array(this._data.timeDomain.length)).map(function (_, i) { return ({ x: i, y: 0 }); }),\r\n            frequency: Array.from(Array(fBinCount)).map(mapXAxisToSampleRate),\r\n            history: Array.from(Array(fBinCount)).map(mapXAxisToSampleRate),\r\n            maxHistory: Array.from(Array(fBinCount)).map(mapXAxisToSampleRate)\r\n        };\r\n        // setup dashboard\r\n        this._setupDashboard();\r\n        // setup charts\r\n        this._charts = {\r\n            timeDomain: this._setupChart({ columnIndex: 0, columnSpan: 1, rowIndex: 0, rowSpan: 1 }, 'Time Domain', 'Sample', 'Amplitude', [-1, 1]),\r\n            waveformHistory: this._setupChart({ columnIndex: 0, columnSpan: 1, rowIndex: 1, rowSpan: 1 }, 'Waveform history', 'Time (s)', 'Amplitude', [-1, 1]),\r\n            frequency: this._setupChart({ columnIndex: 0, columnSpan: 1, rowIndex: 2, rowSpan: 2 }, 'Spectrum', 'Frequency Hz)', 'dB', [0, 256])\r\n        };\r\n        this._charts.waveformHistory\r\n            .getDefaultAxisX()\r\n            .setScrollStrategy(lcjs_1.AxisScrollStrategies.progressive)\r\n            .setInterval(0, this._audioCtx.sampleRate * 10);\r\n        this._charts.timeDomain.getDefaultAxisX().setInterval(0, this._audioNodes.analyzer.fftSize);\r\n        this._charts.frequency.getDefaultAxisX().setInterval(0, this._audioCtx.sampleRate / this._audioNodes.analyzer.fftSize * this._audioNodes.analyzer.frequencyBinCount);\r\n        this._charts.frequency.getDefaultAxisY().setInterval(this._audioNodes.analyzer.minDecibels, this._audioNodes.analyzer.maxDecibels);\r\n        this._charts.timeDomain\r\n            .setMouseInteractions(false);\r\n        this._charts.timeDomain\r\n            .getDefaultAxisX()\r\n            .setMouseInteractions(false);\r\n        this._charts.timeDomain\r\n            .getDefaultAxisY()\r\n            .setMouseInteractions(false);\r\n        // replace the default axis tick strategy formatter formatValue function\r\n        this._charts.waveformHistory.getDefaultAxisX().tickStrategy.formatValue = function (value, range) {\r\n            return (value / _this._audioCtx.sampleRate).toFixed(2);\r\n        };\r\n        // create series\r\n        this._series = {\r\n            timeDomain: this._setupSeries(this._charts.timeDomain, 'Time Domain', '#fff'),\r\n            waveform: this._setupSeries(this._charts.waveformHistory, 'Waveform History', '#fff'),\r\n            frequency: {\r\n                display: this._setupSeries(this._charts.frequency, 'Frequency', '#0d0'),\r\n                cursor: this._setupSeries(this._charts.frequency, 'Frequency', '#0000')\r\n            },\r\n            history: this._setupSeries(this._charts.frequency, 'Frequency Decay', '#0aa'),\r\n            maxFrequency: {\r\n                display: this._setupSeries(this._charts.frequency, 'Frequency Max', '#aa0'),\r\n                cursor: this._setupSeries(this._charts.frequency, 'Frequency Max', '#0000')\r\n            }\r\n        };\r\n        // setup time-domain series\r\n        this._series.timeDomain\r\n            .setMouseInteractions(false)\r\n            .setCursorEnabled(false);\r\n        // setup waveform series\r\n        this._series.waveform\r\n            .setMouseInteractions(false)\r\n            .setMaxPointCount(1000 * 1000)\r\n            .setCursorInterpolationEnabled(false)\r\n            .setResultTableFormatter(function (tableBuilder, series, x, y) { return tableBuilder\r\n            .addRow(series.getName())\r\n            .addRow('Time', series.axisX.formatValue(x), 's')\r\n            .addRow('Amplitude', series.axisY.formatValue(y)); });\r\n        // setup frequency series\r\n        this._series.frequency.display\r\n            .setMouseInteractions(false)\r\n            .setCursorEnabled(false);\r\n        this._series.frequency.cursor\r\n            .add(this._points.frequency)\r\n            .setResultTableFormatter(function (tableBuilder, series, x, y) { return tableBuilder\r\n            .addRow(series.getName())\r\n            .addRow(series.axisX.formatValue(x), 'Hz')\r\n            .addRow(series.axisY.formatValue(y), 'dB'); });\r\n        // setup max frequency series\r\n        this._series.maxFrequency.display\r\n            .setMouseInteractions(false)\r\n            .setCursorEnabled(false);\r\n        this._series.maxFrequency.cursor\r\n            .add(this._points.maxHistory)\r\n            .setResultTableFormatter(function (tableBuilder, series, x, y) { return tableBuilder\r\n            .addRow(series.getName())\r\n            .addRow(series.axisX.formatValue(x), 'Hz')\r\n            .addRow(series.axisY.formatValue(y), 'dB'); });\r\n        // history reset button\r\n        this._charts.frequency.addUIElement(lcjs_1.UIElementBuilders.ButtonBox)\r\n            .setText('Reset Frequency Max')\r\n            .setOrigin(lcjs_1.UIOrigins.LeftTop)\r\n            .setPosition({ x: 1, y: 99 })\r\n            .onMouseClick(function () {\r\n            for (var i = 0; i < _this._data.maxHistory.byteLength; i++) {\r\n                _this._data.maxHistory[i] = 0;\r\n            }\r\n            // refresh the displayed data\r\n            _this._series.maxFrequency.display.clear();\r\n            _this._series.maxFrequency.display.add(ArrayBufferToPointArray(_this._data.maxHistory));\r\n        });\r\n    }\r\n    /**\r\n     * Create and setup the dashboard\r\n     */\r\n    AudioVisualizer.prototype._setupDashboard = function () {\r\n        this._db = lcjs_1.lightningChart().Dashboard({\r\n            containerId: 'chart',\r\n            numberOfColumns: 1,\r\n            numberOfRows: 4,\r\n            theme: lcjs_1.Themes.dark\r\n        });\r\n    };\r\n    /**\r\n     * Create and setup a new chart on the dashboard\r\n     * @param options Dashboard options\r\n     * @param title Chart title\r\n     * @param xAxisTitle X-Axis title\r\n     * @param yAxisTitle Y-Axis title\r\n     * @param yInterval Y-Axis interval\r\n     */\r\n    AudioVisualizer.prototype._setupChart = function (options, title, xAxisTitle, yAxisTitle, yInterval) {\r\n        var chart = this._db.createChartXY(__assign(__assign({}, options), { chartXYOptions: {\r\n                // hack\r\n                defaultAxisXTickStrategy: Object.assign({}, lcjs_1.AxisTickStrategies.Numeric),\r\n                defaultAxisYTickStrategy: lcjs_1.AxisTickStrategies.Numeric,\r\n            } }))\r\n            .setTitle(title);\r\n        chart\r\n            .getAxes().forEach(function (axis) {\r\n        });\r\n        chart.getDefaultAxisX()\r\n            .setTitle(xAxisTitle);\r\n        chart.getDefaultAxisY()\r\n            .setScrollStrategy(undefined)\r\n            .setInterval(yInterval[0], yInterval[1])\r\n            .setTitle(yAxisTitle);\r\n        return chart;\r\n    };\r\n    /**\r\n     * Create and setup a new series on a chart\r\n     * @param chart Chart to which the series should be added to\r\n     * @param name Name of the series\r\n     * @param color Color of the series line\r\n     */\r\n    AudioVisualizer.prototype._setupSeries = function (chart, name, color) {\r\n        if (color === void 0) { color = '#fff'; }\r\n        var series = chart.addLineSeries({\r\n            dataPattern: lcjs_1.DataPatterns.horizontalProgressive\r\n        });\r\n        series\r\n            .setStrokeStyle(function (style) { return style.setFillStyle(function (fill) { return fill.setColor(lcjs_1.ColorHEX(color)); }); })\r\n            .setName(name)\r\n            .setCursorInterpolationEnabled(false);\r\n        return series;\r\n    };\r\n    /**\r\n     * Update series that require manual refresh\r\n     */\r\n    AudioVisualizer.prototype.update = function () {\r\n        this._series.frequency.display.clear();\r\n        this._series.frequency.display.add(this._points.frequency);\r\n        this._series.history.clear();\r\n        this._series.history.add(this._points.history);\r\n        this._series.maxFrequency.display.clear();\r\n        this._series.maxFrequency.display.add(this._points.maxHistory);\r\n    };\r\n    /**\r\n     * Play audio\r\n     */\r\n    AudioVisualizer.prototype.play = function () {\r\n        return this._audioCtx.resume();\r\n    };\r\n    /**\r\n     * Pause audio\r\n     */\r\n    AudioVisualizer.prototype.pause = function () {\r\n        return this._audioCtx.suspend();\r\n    };\r\n    /**\r\n     * Set gain\r\n     * @param gain Gain value\r\n     */\r\n    AudioVisualizer.prototype.setGain = function (gain) {\r\n        this._audioNodes.gain.gain.setValueAtTime(gain, this._audioCtx.currentTime);\r\n    };\r\n    /**\r\n     * Set audio visualizer source\r\n     * @param source Source\r\n     */\r\n    AudioVisualizer.prototype.setSource = function (source) {\r\n        if (this._source) {\r\n            this._source.disconnect(this._audioNodes.analyzer);\r\n        }\r\n        this._source = source;\r\n        if (this._source)\r\n            this._source.connect(this._audioNodes.analyzer);\r\n    };\r\n    /**\r\n     * Get the audio context of the visualizer\r\n     */\r\n    AudioVisualizer.prototype.getContext = function () {\r\n        return this._audioCtx;\r\n    };\r\n    /**\r\n     * Get the audio context state\r\n     */\r\n    AudioVisualizer.prototype.getState = function () {\r\n        return this._audioCtx.state;\r\n    };\r\n    /**\r\n     * Create audio source from a url\r\n     * @param url Url of the audio source\r\n     */\r\n    AudioVisualizer.prototype.createUrlSource = function (url) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var buff, buffSrc;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, audioSources_1.loadAudioFile(url, this._audioCtx)];\r\n                    case 1:\r\n                        buff = _a.sent();\r\n                        buffSrc = this._audioCtx.createBufferSource();\r\n                        buffSrc.buffer = buff;\r\n                        buffSrc.start(0);\r\n                        buffSrc.loop = true;\r\n                        return [2 /*return*/, buffSrc];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Create microphone audio source\r\n     */\r\n    AudioVisualizer.prototype.createMicSource = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var stream;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, navigator.mediaDevices.getUserMedia({ audio: true })];\r\n                    case 1:\r\n                        stream = _a.sent();\r\n                        return [2 /*return*/, this._audioCtx.createMediaStreamSource(stream)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return AudioVisualizer;\r\n}());\r\nexports.AudioVisualizer = AudioVisualizer;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXVkaW9WaXN1YWxpemVyLnRzPzYzMGIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDRDQUE4QztBQUM5QyxvQ0FrQnNCO0FBQ3RCLHNDQU9nQjtBQUVoQjs7Ozs7O0dBTUc7QUFDSCxTQUFTLFlBQVksQ0FBQyxHQUFhLEVBQUUsR0FBZSxFQUFFLE9BQTBCLEVBQUUsT0FBMEI7SUFBdEQsb0NBQWtCLGdCQUFRO0lBQUUsb0NBQWtCLGdCQUFRO0lBQ3hHLEdBQUcsQ0FBQyxPQUFPLENBQUMsVUFBQyxDQUFDLEVBQUUsQ0FBQztRQUNiLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyQixDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDcEIsQ0FBQyxDQUFDO0FBQ04sQ0FBQztBQUVEOzs7OztHQUtHO0FBQ0gsU0FBUyx1QkFBdUIsQ0FBQyxHQUFlLEVBQUUsT0FBeUMsRUFBRSxPQUF5QztJQUFwRixvQ0FBaUMsZ0JBQVE7SUFBRSxvQ0FBaUMsZ0JBQVE7SUFDbEksT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFDLENBQUMsRUFBRSxDQUFDLElBQUssUUFBQyxFQUFFLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQWxDLENBQWtDLENBQUM7QUFDNUUsQ0FBQztBQUVEOzs7O0dBSUc7QUFDSDtJQXlFSTtRQUFBLGlCQWlNQztRQXRNRDs7V0FFRztRQUNLLGNBQVMsR0FBVyxDQUFDO1FBR3pCLDBCQUEwQjtRQUMxQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksWUFBWSxFQUFFO1FBQ25DLElBQUksQ0FBQyxX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QyxPQUFPO1lBQ1osSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUM7SUFDdkQsQ0FBQztJQUVEOztPQUVHO0lBQ0ksb0NBQVUsR0FBakI7UUFDSSxPQUFPLElBQUksQ0FBQyxTQUFTO0lBQ3pCLENBQUM7SUFFRDs7T0FFRztJQUNJLGtDQUFRLEdBQWY7UUFDSSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSztJQUMvQixDQUFDO0lBRUQ7OztPQUdHO0lBQ1UseUNBQWUsR0FBNUIsVUFBNkIsR0FBVzs7Ozs7NEJBQ3ZCLHFCQUFNLDRCQUFhLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUM7O3dCQUEvQyxJQUFJLEdBQUcsU0FBd0M7d0JBRS9DLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGtCQUFrQixFQUFFO3dCQUNuRCxPQUFPLENBQUMsTUFBTSxHQUFHLElBQUk7d0JBQ3JCLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO3dCQUNoQixPQUFPLENBQUMsSUFBSSxHQUFHLElBQUk7d0JBQ25CLHNCQUFPLE9BQU87Ozs7S0FDakI7SUFFRDs7T0FFRztJQUNVLHlDQUFlLEdBQTVCOzs7Ozs0QkFDbUIscUJBQU0sU0FBUyxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUM7O3dCQUFuRSxNQUFNLEdBQUcsU0FBMEQ7d0JBQ3pFLHNCQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsdUJBQXVCLENBQUMsTUFBTSxDQUFDOzs7O0tBQ3hEO0lBQ0wsc0JBQUM7QUFBRCxDQUFDO0FBMVpZLDBDQUFlIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBsb2FkQXVkaW9GaWxlIH0gZnJvbSBcIi4vYXVkaW9Tb3VyY2VzXCJcclxuaW1wb3J0IHtcclxuICAgIFBvaW50LFxyXG4gICAgTVBvaW50LFxyXG4gICAgTGluZVNlcmllcyxcclxuICAgIENoYXJ0WFksXHJcbiAgICBEYXNoYm9hcmRCYXNpY09wdGlvbnMsXHJcbiAgICBBeGlzVGlja1N0cmF0ZWdpZXMsXHJcbiAgICBEYXNoYm9hcmQsXHJcbiAgICBsaWdodG5pbmdDaGFydCxcclxuICAgIFRoZW1lcyxcclxuICAgIERhdGFQYXR0ZXJucyxcclxuICAgIEF4aXNTY3JvbGxTdHJhdGVnaWVzLFxyXG4gICAgRm9ybWF0dGluZ1JhbmdlLFxyXG4gICAgVUlFbGVtZW50QnVpbGRlcnMsXHJcbiAgICBVSU9yaWdpbnMsXHJcbiAgICBTb2xpZExpbmUsXHJcbiAgICBTb2xpZEZpbGwsXHJcbiAgICBDb2xvckhFWFxyXG59IGZyb20gXCJAYXJjdGlvbi9sY2pzXCJcclxuaW1wb3J0IHtcclxuICAgIFNjYWxlcixcclxuICAgIG5vU2NhbGVyLFxyXG4gICAgbXVsdGlwbGllclNjYWxlcixcclxuICAgIGRiU2NhbGVyLFxyXG4gICAgZnJlcVNjYWxlcixcclxuICAgIG9mZlNldFNjYWxlclxyXG59IGZyb20gXCIuL3V0aWxzXCJcclxuXHJcbi8qKlxyXG4gKiBVcGRhdGUgcG9pbnRzIGluIGEgZ2l2ZW4gYXJyYXkgd2l0aCBuZXcgdmFsdWVzXHJcbiAqIEBwYXJhbSBhcnIgQXJyYXkgb2YgcG9pbnRzIHRvIHVwZGF0ZVxyXG4gKiBAcGFyYW0gYnVmIElucHV0IGRhdGEgYnVmZmVyXHJcbiAqIEBwYXJhbSB4U2NhbGVyIFNjYWxlciBmb3IgdGhlIFgtdmFsdWVzXHJcbiAqIEBwYXJhbSB5U2NhbGVyIFNjYWxlciBmb3IgdGhlIFktdmFsdWVzXHJcbiAqL1xyXG5mdW5jdGlvbiB1cGRhdGVQb2ludHMoYXJyOiBNUG9pbnRbXSwgYnVmOiBVaW50OEFycmF5LCB4U2NhbGVyOiBTY2FsZXIgPSBub1NjYWxlciwgeVNjYWxlcjogU2NhbGVyID0gbm9TY2FsZXIpOiB2b2lkIHtcclxuICAgIGFyci5mb3JFYWNoKChwLCBpKSA9PiB7XHJcbiAgICAgICAgcC55ID0geVNjYWxlcihidWZbaV0pXHJcbiAgICAgICAgcC54ID0geFNjYWxlcihpKVxyXG4gICAgfSlcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnQgQXJyYXlCdWZmZXIgdG8gYSBQb2ludCBhcnJheVxyXG4gKiBAcGFyYW0gYnVmIEJ1ZmZlciB0byBjb252ZXJ0IHRvIHBvaW50IGFycmF5XHJcbiAqIEBwYXJhbSB4U2NhbGVyIFNjYWxlciBmb3IgdGhlIFgtdmFsdWVzXHJcbiAqIEBwYXJhbSB5U2NhbGVyIFNjYWxlciBmb3IgdGhlIFktdmFsdWVzXHJcbiAqL1xyXG5mdW5jdGlvbiBBcnJheUJ1ZmZlclRvUG9pbnRBcnJheShidWY6IFVpbnQ4QXJyYXksIHhTY2FsZXI6IChuOiBudW1iZXIpID0+IG51bWJlciA9IG5vU2NhbGVyLCB5U2NhbGVyOiAobjogbnVtYmVyKSA9PiBudW1iZXIgPSBub1NjYWxlcik6IFBvaW50W10ge1xyXG4gICAgcmV0dXJuIEFycmF5LmZyb20oYnVmKS5tYXAoKHAsIGkpID0+ICh7IHg6IHhTY2FsZXIoaSksIHk6IHlTY2FsZXIocCkgfSkpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBdWRpbyBWaXN1YWxpemVyXHJcbiAqIFxyXG4gKiBWaXN1YWxpemVzIGdpdmVuIEF1ZGlvIHNvdXJjZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF1ZGlvVmlzdWFsaXplciB7XHJcbiAgICAvKipcclxuICAgICAqIEN1cnJlbnQgYXVkaW8gY29udGV4dFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9hdWRpb0N0eDogQXVkaW9Db250ZXh0XHJcbiAgICAvKipcclxuICAgICAqIEFsbCB1c2VkIGF1ZGlvIG5vZGVzIGluIHRoZSBhdWRpbyBncmFwaFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9hdWRpb05vZGVzOiB7XHJcbiAgICAgICAgYW5hbHl6ZXI6IEFuYWx5c2VyTm9kZSxcclxuICAgICAgICBwcm9jZXNzb3I6IFNjcmlwdFByb2Nlc3Nvck5vZGUsXHJcbiAgICAgICAgZ2FpbjogR2Fpbk5vZGVcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3VycmVudCBhdWRpbyBzb3VyY2VcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfc291cmNlOiBBdWRpb05vZGUgfCB1bmRlZmluZWRcclxuXHJcbiAgICAvKipcclxuICAgICAqIERhdGEgYnVmZmVyc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9kYXRhOiB7XHJcbiAgICAgICAgdGltZURvbWFpbjogVWludDhBcnJheSxcclxuICAgICAgICBmcmVxdWVuY3k6IFVpbnQ4QXJyYXksXHJcbiAgICAgICAgaGlzdG9yeTogVWludDhBcnJheSxcclxuICAgICAgICBtYXhIaXN0b3J5OiBVaW50OEFycmF5XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQb2ludCBidWZmZXJzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX3BvaW50czoge1xyXG4gICAgICAgIHRpbWVEb21haW46IFBvaW50W10sXHJcbiAgICAgICAgZnJlcXVlbmN5OiBQb2ludFtdLFxyXG4gICAgICAgIGhpc3Rvcnk6IFBvaW50W10sXHJcbiAgICAgICAgbWF4SGlzdG9yeTogUG9pbnRbXVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQmFzZSBkYXNoYm9hcmQsIGhvc3RzIGFsbCBjaGFydHNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfZGI6IERhc2hib2FyZFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWxsIGRpZmZlcmVudCBjaGFydHNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfY2hhcnRzOiB7XHJcbiAgICAgICAgdGltZURvbWFpbjogQ2hhcnRYWSxcclxuICAgICAgICB3YXZlZm9ybUhpc3Rvcnk6IENoYXJ0WFksXHJcbiAgICAgICAgZnJlcXVlbmN5OiBDaGFydFhZXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBbGwgZGlmZmVyZW50IHNlcmllc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9zZXJpZXM6IHtcclxuICAgICAgICB0aW1lRG9tYWluOiBMaW5lU2VyaWVzLFxyXG4gICAgICAgIHdhdmVmb3JtOiBMaW5lU2VyaWVzLFxyXG4gICAgICAgIGZyZXF1ZW5jeToge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBMaW5lU2VyaWVzLFxyXG4gICAgICAgICAgICBjdXJzb3I6IExpbmVTZXJpZXNcclxuICAgICAgICB9LFxyXG4gICAgICAgIGhpc3Rvcnk6IExpbmVTZXJpZXMsXHJcbiAgICAgICAgbWF4RnJlcXVlbmN5OiB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IExpbmVTZXJpZXMsXHJcbiAgICAgICAgICAgIGN1cnNvcjogTGluZVNlcmllc1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGhlICd0aW1lJyBvZiB0aGUgbGFzdCB3YXZlZm9ybSBkYXRhIGlucHV0IHBvaW50XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX2xhc3RUaW1lOiBudW1iZXIgPSAwXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgLy8gc2V0dXAgdGhlIGF1ZGlvIGNvbnRleHRcclxuICAgICAgICB0aGlzLl9hdWRpb0N0eCA9IG5ldyBBdWRpb0NvbnRleHQoKVxyXG4gICAgICAgIHRoaXMuX2F1ZGlvTm9kZXMgPSB7XHJcbiAgICAgICAgICAgIGFuYWx5emVyOiB0aGlzLl9hdWRpb0N0eC5jcmVhdGVBbmFseXNlcigpLFxyXG4gICAgICAgICAgICAvLyB0aGUgc2NyaXB0IHByb2Nlc3NvciBub2RlIGlzIGRlcHJlY2F0ZWQgbm9kZSBzbyBpdCB3aWxsIGJlIHJlbW92ZWQgaW4gZnV0dXJlXHJcbiAgICAgICAgICAgIC8vIGl0IGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggYXVkaW8gd29ya2xldCBidXQgdGhvc2UgaGF2ZSByZWFsbHkgYmFkIGJyb3dzZXIgc3VwcG9ydCBjdXJyZW50bHlcclxuICAgICAgICAgICAgcHJvY2Vzc29yOiB0aGlzLl9hdWRpb0N0eC5jcmVhdGVTY3JpcHRQcm9jZXNzb3IodW5kZWZpbmVkLCAxLCAxKSxcclxuICAgICAgICAgICAgZ2FpbjogdGhpcy5fYXVkaW9DdHguY3JlYXRlR2FpbigpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIG11dGUgYXVkaW8gb3V0cHV0IGJ5IGRlZmF1bHRcclxuICAgICAgICB0aGlzLl9hdWRpb05vZGVzLmdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLCB0aGlzLl9hdWRpb0N0eC5jdXJyZW50VGltZSlcclxuXHJcbiAgICAgICAgLy8gc2V0dXAgYXVkaW8gcHJvY2Vzc29yXHJcbiAgICAgICAgdGhpcy5fYXVkaW9Ob2Rlcy5wcm9jZXNzb3Iub25hdWRpb3Byb2Nlc3MgPSAoZXY6IEF1ZGlvUHJvY2Vzc2luZ0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBkYXRhIGZyb20gYW5hbHl6ZXJcclxuICAgICAgICAgICAgdGhpcy5fYXVkaW9Ob2Rlcy5hbmFseXplci5nZXRCeXRlVGltZURvbWFpbkRhdGEodGhpcy5fZGF0YS50aW1lRG9tYWluKVxyXG4gICAgICAgICAgICB0aGlzLl9hdWRpb05vZGVzLmFuYWx5emVyLmdldEJ5dGVGcmVxdWVuY3lEYXRhKHRoaXMuX2RhdGEuZnJlcXVlbmN5KVxyXG4gICAgICAgICAgICBjb25zdCBtU2NhbGVyID0gbXVsdGlwbGllclNjYWxlcih0aGlzLl9hdWRpb0N0eC5zYW1wbGVSYXRlIC8gdGhpcy5fYXVkaW9Ob2Rlcy5hbmFseXplci5mZnRTaXplKVxyXG4gICAgICAgICAgICBjb25zdCBkU2NhbGVyID0gZGJTY2FsZXIodGhpcy5fYXVkaW9Ob2Rlcy5hbmFseXplcilcclxuICAgICAgICAgICAgLy8gdXBkYXRlIGZyZXF1ZW5jeSBwb2ludHNcclxuICAgICAgICAgICAgdXBkYXRlUG9pbnRzKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9pbnRzLmZyZXF1ZW5jeSxcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEuZnJlcXVlbmN5LFxyXG4gICAgICAgICAgICAgICAgbVNjYWxlcixcclxuICAgICAgICAgICAgICAgIGRTY2FsZXJcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAvLyB1cGRhdGUgaGlzdG9yeSBhbmQgbWF4IGhpc3RvcnkgZGF0YVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2RhdGEuaGlzdG9yeS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YS5oaXN0b3J5W2ldID0gTWF0aC5tYXgoTWF0aC5tYXgodGhpcy5fZGF0YS5mcmVxdWVuY3lbaV0sIHRoaXMuX2RhdGEuaGlzdG9yeVtpXSAtIDI1IC8gMTAwMCksIDApXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRhLm1heEhpc3RvcnlbaV0gPSBNYXRoLm1heChNYXRoLm1heCh0aGlzLl9kYXRhLmZyZXF1ZW5jeVtpXSwgdGhpcy5fZGF0YS5tYXhIaXN0b3J5W2ldKSwgMClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB1cGRhdGUgZnJlcXVlbmN5IGhpc3RvcnkgcG9pbnRzXHJcbiAgICAgICAgICAgIHVwZGF0ZVBvaW50cyhcclxuICAgICAgICAgICAgICAgIHRoaXMuX3BvaW50cy5oaXN0b3J5LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YS5oaXN0b3J5LFxyXG4gICAgICAgICAgICAgICAgbVNjYWxlcixcclxuICAgICAgICAgICAgICAgIGRTY2FsZXJcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAvLyB1cGRhdGUgZnJlcXVlbmN5IG1heCBoaXN0b3J5IHBvaW50c1xyXG4gICAgICAgICAgICB1cGRhdGVQb2ludHMoXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb2ludHMubWF4SGlzdG9yeSxcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEubWF4SGlzdG9yeSxcclxuICAgICAgICAgICAgICAgIG1TY2FsZXIsXHJcbiAgICAgICAgICAgICAgICBkU2NhbGVyXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgLy8gdXBkYXRlIHRpbWUgZG9tYWluIHBvaW50c1xyXG4gICAgICAgICAgICB1cGRhdGVQb2ludHMoXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb2ludHMudGltZURvbWFpbixcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEudGltZURvbWFpbixcclxuICAgICAgICAgICAgICAgIG5vU2NhbGVyLFxyXG4gICAgICAgICAgICAgICAgZnJlcVNjYWxlclxyXG4gICAgICAgICAgICApXHJcblxyXG4gICAgICAgICAgICAvLyB1cGRhdGUgdGltZSBkb21haW4gZGF0YVxyXG4gICAgICAgICAgICB0aGlzLl9zZXJpZXMudGltZURvbWFpbi5jbGVhcigpXHJcbiAgICAgICAgICAgIHRoaXMuX3Nlcmllcy50aW1lRG9tYWluLmFkZCh0aGlzLl9wb2ludHMudGltZURvbWFpbilcclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCB3YXZlZm9ybSBkYXRhIHRvIHRoZSB3YXZlZm9ybSBzZXJpZXNcclxuICAgICAgICAgICAgY29uc3Qgd2F2ZURhdGEgPSBBcnJheUJ1ZmZlclRvUG9pbnRBcnJheSh0aGlzLl9kYXRhLnRpbWVEb21haW4sIG9mZlNldFNjYWxlcih0aGlzLl9sYXN0VGltZSksIGZyZXFTY2FsZXIpXHJcbiAgICAgICAgICAgIHRoaXMuX3Nlcmllcy53YXZlZm9ybS5hZGQod2F2ZURhdGEpXHJcbiAgICAgICAgICAgIHRoaXMuX2xhc3RUaW1lICs9IHdhdmVEYXRhLmxlbmd0aFxyXG5cclxuICAgICAgICAgICAgLy8gb3V0cHV0IHRoZSBhdWRpb1xyXG4gICAgICAgICAgICBldi5vdXRwdXRCdWZmZXIuY29weVRvQ2hhbm5lbChldi5pbnB1dEJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKSwgMClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNldHVwIG5vZGUgZ3JhcGhcclxuICAgICAgICB0aGlzLl9hdWRpb05vZGVzLmFuYWx5emVyLmNvbm5lY3QodGhpcy5fYXVkaW9Ob2Rlcy5wcm9jZXNzb3IpXHJcbiAgICAgICAgdGhpcy5fYXVkaW9Ob2Rlcy5wcm9jZXNzb3IuY29ubmVjdCh0aGlzLl9hdWRpb05vZGVzLmdhaW4pXHJcbiAgICAgICAgdGhpcy5fYXVkaW9Ob2Rlcy5nYWluLmNvbm5lY3QodGhpcy5fYXVkaW9DdHguZGVzdGluYXRpb24pXHJcblxyXG4gICAgICAgIC8vIHNldHVwIGJ1ZmZlcnNcclxuICAgICAgICBjb25zdCBmQmluQ291bnQgPSB0aGlzLl9hdWRpb05vZGVzLmFuYWx5emVyLmZyZXF1ZW5jeUJpbkNvdW50XHJcbiAgICAgICAgdGhpcy5fZGF0YSA9IHtcclxuICAgICAgICAgICAgdGltZURvbWFpbjogbmV3IFVpbnQ4QXJyYXkodGhpcy5fYXVkaW9Ob2Rlcy5hbmFseXplci5mZnRTaXplKSxcclxuICAgICAgICAgICAgZnJlcXVlbmN5OiBuZXcgVWludDhBcnJheShmQmluQ291bnQpLFxyXG4gICAgICAgICAgICBoaXN0b3J5OiBuZXcgVWludDhBcnJheShmQmluQ291bnQpLFxyXG4gICAgICAgICAgICBtYXhIaXN0b3J5OiBuZXcgVWludDhBcnJheShmQmluQ291bnQpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzZXR1cCBwb2ludCBhcnJheXNcclxuICAgICAgICBjb25zdCBtYXBYQXhpc1RvU2FtcGxlUmF0ZSA9IChfLCBpKSA9PiAoeyB4OiAodGhpcy5fYXVkaW9DdHguc2FtcGxlUmF0ZSAvIHRoaXMuX2F1ZGlvTm9kZXMuYW5hbHl6ZXIuZmZ0U2l6ZSAqIGkpLCB5OiAwIH0pXHJcbiAgICAgICAgdGhpcy5fcG9pbnRzID0ge1xyXG4gICAgICAgICAgICB0aW1lRG9tYWluOiBBcnJheS5mcm9tPFBvaW50PihBcnJheSh0aGlzLl9kYXRhLnRpbWVEb21haW4ubGVuZ3RoKSkubWFwKChfLCBpKSA9PiAoeyB4OiBpLCB5OiAwIH0pKSxcclxuICAgICAgICAgICAgZnJlcXVlbmN5OiBBcnJheS5mcm9tPFBvaW50PihBcnJheShmQmluQ291bnQpKS5tYXAobWFwWEF4aXNUb1NhbXBsZVJhdGUpLFxyXG4gICAgICAgICAgICBoaXN0b3J5OiBBcnJheS5mcm9tPFBvaW50PihBcnJheShmQmluQ291bnQpKS5tYXAobWFwWEF4aXNUb1NhbXBsZVJhdGUpLFxyXG4gICAgICAgICAgICBtYXhIaXN0b3J5OiBBcnJheS5mcm9tPFBvaW50PihBcnJheShmQmluQ291bnQpKS5tYXAobWFwWEF4aXNUb1NhbXBsZVJhdGUpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzZXR1cCBkYXNoYm9hcmRcclxuICAgICAgICB0aGlzLl9zZXR1cERhc2hib2FyZCgpXHJcblxyXG4gICAgICAgIC8vIHNldHVwIGNoYXJ0c1xyXG4gICAgICAgIHRoaXMuX2NoYXJ0cyA9IHtcclxuICAgICAgICAgICAgdGltZURvbWFpbjogdGhpcy5fc2V0dXBDaGFydCh7IGNvbHVtbkluZGV4OiAwLCBjb2x1bW5TcGFuOiAxLCByb3dJbmRleDogMCwgcm93U3BhbjogMSB9LCAnVGltZSBEb21haW4nLCAnU2FtcGxlJywgJ0FtcGxpdHVkZScsIFstMSwgMV0pLFxyXG4gICAgICAgICAgICB3YXZlZm9ybUhpc3Rvcnk6IHRoaXMuX3NldHVwQ2hhcnQoeyBjb2x1bW5JbmRleDogMCwgY29sdW1uU3BhbjogMSwgcm93SW5kZXg6IDEsIHJvd1NwYW46IDEgfSwgJ1dhdmVmb3JtIGhpc3RvcnknLCAnVGltZSAocyknLCAnQW1wbGl0dWRlJywgWy0xLCAxXSksXHJcbiAgICAgICAgICAgIGZyZXF1ZW5jeTogdGhpcy5fc2V0dXBDaGFydCh7IGNvbHVtbkluZGV4OiAwLCBjb2x1bW5TcGFuOiAxLCByb3dJbmRleDogMiwgcm93U3BhbjogMiB9LCAnU3BlY3RydW0nLCAnRnJlcXVlbmN5IEh6KScsICdkQicsIFswLCAyNTZdKVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9jaGFydHMud2F2ZWZvcm1IaXN0b3J5XHJcbiAgICAgICAgICAgIC5nZXREZWZhdWx0QXhpc1goKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsU3RyYXRlZ3koQXhpc1Njcm9sbFN0cmF0ZWdpZXMucHJvZ3Jlc3NpdmUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcnZhbCgwLCB0aGlzLl9hdWRpb0N0eC5zYW1wbGVSYXRlICogMTApXHJcbiAgICAgICAgdGhpcy5fY2hhcnRzLnRpbWVEb21haW4uZ2V0RGVmYXVsdEF4aXNYKCkuc2V0SW50ZXJ2YWwoMCwgdGhpcy5fYXVkaW9Ob2Rlcy5hbmFseXplci5mZnRTaXplKVxyXG4gICAgICAgIHRoaXMuX2NoYXJ0cy5mcmVxdWVuY3kuZ2V0RGVmYXVsdEF4aXNYKCkuc2V0SW50ZXJ2YWwoMCwgdGhpcy5fYXVkaW9DdHguc2FtcGxlUmF0ZSAvIHRoaXMuX2F1ZGlvTm9kZXMuYW5hbHl6ZXIuZmZ0U2l6ZSAqIHRoaXMuX2F1ZGlvTm9kZXMuYW5hbHl6ZXIuZnJlcXVlbmN5QmluQ291bnQpXHJcbiAgICAgICAgdGhpcy5fY2hhcnRzLmZyZXF1ZW5jeS5nZXREZWZhdWx0QXhpc1koKS5zZXRJbnRlcnZhbCh0aGlzLl9hdWRpb05vZGVzLmFuYWx5emVyLm1pbkRlY2liZWxzLCB0aGlzLl9hdWRpb05vZGVzLmFuYWx5emVyLm1heERlY2liZWxzKVxyXG5cclxuICAgICAgICB0aGlzLl9jaGFydHMudGltZURvbWFpblxyXG4gICAgICAgICAgICAuc2V0TW91c2VJbnRlcmFjdGlvbnMoZmFsc2UpXHJcbiAgICAgICAgdGhpcy5fY2hhcnRzLnRpbWVEb21haW5cclxuICAgICAgICAgICAgLmdldERlZmF1bHRBeGlzWCgpXHJcbiAgICAgICAgICAgIC5zZXRNb3VzZUludGVyYWN0aW9ucyhmYWxzZSlcclxuICAgICAgICB0aGlzLl9jaGFydHMudGltZURvbWFpblxyXG4gICAgICAgICAgICAuZ2V0RGVmYXVsdEF4aXNZKClcclxuICAgICAgICAgICAgLnNldE1vdXNlSW50ZXJhY3Rpb25zKGZhbHNlKVxyXG5cclxuICAgICAgICAvLyByZXBsYWNlIHRoZSBkZWZhdWx0IGF4aXMgdGljayBzdHJhdGVneSBmb3JtYXR0ZXIgZm9ybWF0VmFsdWUgZnVuY3Rpb25cclxuICAgICAgICB0aGlzLl9jaGFydHMud2F2ZWZvcm1IaXN0b3J5LmdldERlZmF1bHRBeGlzWCgpLnRpY2tTdHJhdGVneS5mb3JtYXRWYWx1ZSA9ICh2YWx1ZTogbnVtYmVyLCByYW5nZTogRm9ybWF0dGluZ1JhbmdlKTogc3RyaW5nID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuICh2YWx1ZSAvIHRoaXMuX2F1ZGlvQ3R4LnNhbXBsZVJhdGUpLnRvRml4ZWQoMilcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGNyZWF0ZSBzZXJpZXNcclxuICAgICAgICB0aGlzLl9zZXJpZXMgPSB7XHJcbiAgICAgICAgICAgIHRpbWVEb21haW46IHRoaXMuX3NldHVwU2VyaWVzKHRoaXMuX2NoYXJ0cy50aW1lRG9tYWluLCAnVGltZSBEb21haW4nLCAnI2ZmZicpLFxyXG4gICAgICAgICAgICB3YXZlZm9ybTogdGhpcy5fc2V0dXBTZXJpZXModGhpcy5fY2hhcnRzLndhdmVmb3JtSGlzdG9yeSwgJ1dhdmVmb3JtIEhpc3RvcnknLCAnI2ZmZicpLFxyXG4gICAgICAgICAgICBmcmVxdWVuY3k6IHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMuX3NldHVwU2VyaWVzKHRoaXMuX2NoYXJ0cy5mcmVxdWVuY3ksICdGcmVxdWVuY3knLCAnIzBkMCcpLFxyXG4gICAgICAgICAgICAgICAgY3Vyc29yOiB0aGlzLl9zZXR1cFNlcmllcyh0aGlzLl9jaGFydHMuZnJlcXVlbmN5LCAnRnJlcXVlbmN5JywgJyMwMDAwJylcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaGlzdG9yeTogdGhpcy5fc2V0dXBTZXJpZXModGhpcy5fY2hhcnRzLmZyZXF1ZW5jeSwgJ0ZyZXF1ZW5jeSBEZWNheScsICcjMGFhJyksXHJcbiAgICAgICAgICAgIG1heEZyZXF1ZW5jeToge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogdGhpcy5fc2V0dXBTZXJpZXModGhpcy5fY2hhcnRzLmZyZXF1ZW5jeSwgJ0ZyZXF1ZW5jeSBNYXgnLCAnI2FhMCcpLFxyXG4gICAgICAgICAgICAgICAgY3Vyc29yOiB0aGlzLl9zZXR1cFNlcmllcyh0aGlzLl9jaGFydHMuZnJlcXVlbmN5LCAnRnJlcXVlbmN5IE1heCcsICcjMDAwMCcpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNldHVwIHRpbWUtZG9tYWluIHNlcmllc1xyXG4gICAgICAgIHRoaXMuX3Nlcmllcy50aW1lRG9tYWluXHJcbiAgICAgICAgICAgIC5zZXRNb3VzZUludGVyYWN0aW9ucyhmYWxzZSlcclxuICAgICAgICAgICAgLnNldEN1cnNvckVuYWJsZWQoZmFsc2UpXHJcblxyXG4gICAgICAgIC8vIHNldHVwIHdhdmVmb3JtIHNlcmllc1xyXG4gICAgICAgIHRoaXMuX3Nlcmllcy53YXZlZm9ybVxyXG4gICAgICAgICAgICAuc2V0TW91c2VJbnRlcmFjdGlvbnMoZmFsc2UpXHJcbiAgICAgICAgICAgIC5zZXRNYXhQb2ludENvdW50KDEwMDAgKiAxMDAwKVxyXG4gICAgICAgICAgICAuc2V0Q3Vyc29ySW50ZXJwb2xhdGlvbkVuYWJsZWQoZmFsc2UpXHJcbiAgICAgICAgICAgIC5zZXRSZXN1bHRUYWJsZUZvcm1hdHRlcigodGFibGVCdWlsZGVyLCBzZXJpZXMsIHgsIHkpID0+IHRhYmxlQnVpbGRlclxyXG4gICAgICAgICAgICAgICAgLmFkZFJvdyhzZXJpZXMuZ2V0TmFtZSgpKVxyXG4gICAgICAgICAgICAgICAgLmFkZFJvdygnVGltZScsIHNlcmllcy5heGlzWC5mb3JtYXRWYWx1ZSh4KSwgJ3MnKVxyXG4gICAgICAgICAgICAgICAgLmFkZFJvdygnQW1wbGl0dWRlJywgc2VyaWVzLmF4aXNZLmZvcm1hdFZhbHVlKHkpKVxyXG4gICAgICAgICAgICApXHJcblxyXG5cclxuICAgICAgICAvLyBzZXR1cCBmcmVxdWVuY3kgc2VyaWVzXHJcbiAgICAgICAgdGhpcy5fc2VyaWVzLmZyZXF1ZW5jeS5kaXNwbGF5XHJcbiAgICAgICAgICAgIC5zZXRNb3VzZUludGVyYWN0aW9ucyhmYWxzZSlcclxuICAgICAgICAgICAgLnNldEN1cnNvckVuYWJsZWQoZmFsc2UpXHJcbiAgICAgICAgdGhpcy5fc2VyaWVzLmZyZXF1ZW5jeS5jdXJzb3JcclxuICAgICAgICAgICAgLmFkZCh0aGlzLl9wb2ludHMuZnJlcXVlbmN5KVxyXG4gICAgICAgICAgICAuc2V0UmVzdWx0VGFibGVGb3JtYXR0ZXIoKHRhYmxlQnVpbGRlciwgc2VyaWVzLCB4LCB5KSA9PiB0YWJsZUJ1aWxkZXJcclxuICAgICAgICAgICAgICAgIC5hZGRSb3coc2VyaWVzLmdldE5hbWUoKSlcclxuICAgICAgICAgICAgICAgIC5hZGRSb3coc2VyaWVzLmF4aXNYLmZvcm1hdFZhbHVlKHgpLCAnSHonKVxyXG4gICAgICAgICAgICAgICAgLmFkZFJvdyhzZXJpZXMuYXhpc1kuZm9ybWF0VmFsdWUoeSksICdkQicpXHJcbiAgICAgICAgICAgIClcclxuXHJcbiAgICAgICAgLy8gc2V0dXAgbWF4IGZyZXF1ZW5jeSBzZXJpZXNcclxuICAgICAgICB0aGlzLl9zZXJpZXMubWF4RnJlcXVlbmN5LmRpc3BsYXlcclxuICAgICAgICAgICAgLnNldE1vdXNlSW50ZXJhY3Rpb25zKGZhbHNlKVxyXG4gICAgICAgICAgICAuc2V0Q3Vyc29yRW5hYmxlZChmYWxzZSlcclxuICAgICAgICB0aGlzLl9zZXJpZXMubWF4RnJlcXVlbmN5LmN1cnNvclxyXG4gICAgICAgICAgICAuYWRkKHRoaXMuX3BvaW50cy5tYXhIaXN0b3J5KVxyXG4gICAgICAgICAgICAuc2V0UmVzdWx0VGFibGVGb3JtYXR0ZXIoKHRhYmxlQnVpbGRlciwgc2VyaWVzLCB4LCB5KSA9PiB0YWJsZUJ1aWxkZXJcclxuICAgICAgICAgICAgICAgIC5hZGRSb3coc2VyaWVzLmdldE5hbWUoKSlcclxuICAgICAgICAgICAgICAgIC5hZGRSb3coc2VyaWVzLmF4aXNYLmZvcm1hdFZhbHVlKHgpLCAnSHonKVxyXG4gICAgICAgICAgICAgICAgLmFkZFJvdyhzZXJpZXMuYXhpc1kuZm9ybWF0VmFsdWUoeSksICdkQicpXHJcbiAgICAgICAgICAgIClcclxuXHJcblxyXG4gICAgICAgIC8vIGhpc3RvcnkgcmVzZXQgYnV0dG9uXHJcbiAgICAgICAgdGhpcy5fY2hhcnRzLmZyZXF1ZW5jeS5hZGRVSUVsZW1lbnQoXHJcbiAgICAgICAgICAgIFVJRWxlbWVudEJ1aWxkZXJzLkJ1dHRvbkJveFxyXG4gICAgICAgIClcclxuICAgICAgICAgICAgLnNldFRleHQoJ1Jlc2V0IEZyZXF1ZW5jeSBNYXgnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKFVJT3JpZ2lucy5MZWZ0VG9wKVxyXG4gICAgICAgICAgICAuc2V0UG9zaXRpb24oeyB4OiAxLCB5OiA5OSB9KVxyXG4gICAgICAgICAgICAub25Nb3VzZUNsaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZGF0YS5tYXhIaXN0b3J5LmJ5dGVMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEubWF4SGlzdG9yeVtpXSA9IDBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHJlZnJlc2ggdGhlIGRpc3BsYXllZCBkYXRhXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXJpZXMubWF4RnJlcXVlbmN5LmRpc3BsYXkuY2xlYXIoKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VyaWVzLm1heEZyZXF1ZW5jeS5kaXNwbGF5LmFkZChBcnJheUJ1ZmZlclRvUG9pbnRBcnJheSh0aGlzLl9kYXRhLm1heEhpc3RvcnkpKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFuZCBzZXR1cCB0aGUgZGFzaGJvYXJkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX3NldHVwRGFzaGJvYXJkKCkge1xyXG4gICAgICAgIHRoaXMuX2RiID0gbGlnaHRuaW5nQ2hhcnQoKS5EYXNoYm9hcmQoe1xyXG4gICAgICAgICAgICBjb250YWluZXJJZDogJ2NoYXJ0JyxcclxuICAgICAgICAgICAgbnVtYmVyT2ZDb2x1bW5zOiAxLFxyXG4gICAgICAgICAgICBudW1iZXJPZlJvd3M6IDQsXHJcbiAgICAgICAgICAgIHRoZW1lOiBUaGVtZXMuZGFya1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYW5kIHNldHVwIGEgbmV3IGNoYXJ0IG9uIHRoZSBkYXNoYm9hcmRcclxuICAgICAqIEBwYXJhbSBvcHRpb25zIERhc2hib2FyZCBvcHRpb25zXHJcbiAgICAgKiBAcGFyYW0gdGl0bGUgQ2hhcnQgdGl0bGVcclxuICAgICAqIEBwYXJhbSB4QXhpc1RpdGxlIFgtQXhpcyB0aXRsZVxyXG4gICAgICogQHBhcmFtIHlBeGlzVGl0bGUgWS1BeGlzIHRpdGxlXHJcbiAgICAgKiBAcGFyYW0geUludGVydmFsIFktQXhpcyBpbnRlcnZhbFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9zZXR1cENoYXJ0KG9wdGlvbnM6IERhc2hib2FyZEJhc2ljT3B0aW9ucywgdGl0bGU6IHN0cmluZywgeEF4aXNUaXRsZTogc3RyaW5nLCB5QXhpc1RpdGxlOiBzdHJpbmcsIHlJbnRlcnZhbDogW251bWJlciwgbnVtYmVyXSk6IENoYXJ0WFkge1xyXG4gICAgICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5fZGIuY3JlYXRlQ2hhcnRYWSh7XHJcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXHJcbiAgICAgICAgICAgIGNoYXJ0WFlPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAvLyBoYWNrXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0QXhpc1hUaWNrU3RyYXRlZ3k6IE9iamVjdC5hc3NpZ24oe30sIEF4aXNUaWNrU3RyYXRlZ2llcy5OdW1lcmljKSxcclxuICAgICAgICAgICAgICAgIGRlZmF1bHRBeGlzWVRpY2tTdHJhdGVneTogQXhpc1RpY2tTdHJhdGVnaWVzLk51bWVyaWMsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc2V0VGl0bGUodGl0bGUpXHJcbiAgICAgICAgY2hhcnRcclxuICAgICAgICAgICAgLmdldEF4ZXMoKS5mb3JFYWNoKGF4aXMgPT4ge1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIGNoYXJ0LmdldERlZmF1bHRBeGlzWCgpXHJcbiAgICAgICAgICAgIC5zZXRUaXRsZSh4QXhpc1RpdGxlKVxyXG5cclxuICAgICAgICBjaGFydC5nZXREZWZhdWx0QXhpc1koKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsU3RyYXRlZ3kodW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJ2YWwoeUludGVydmFsWzBdLCB5SW50ZXJ2YWxbMV0pXHJcbiAgICAgICAgICAgIC5zZXRUaXRsZSh5QXhpc1RpdGxlKVxyXG4gICAgICAgIHJldHVybiBjaGFydFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFuZCBzZXR1cCBhIG5ldyBzZXJpZXMgb24gYSBjaGFydFxyXG4gICAgICogQHBhcmFtIGNoYXJ0IENoYXJ0IHRvIHdoaWNoIHRoZSBzZXJpZXMgc2hvdWxkIGJlIGFkZGVkIHRvXHJcbiAgICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBzZXJpZXNcclxuICAgICAqIEBwYXJhbSBjb2xvciBDb2xvciBvZiB0aGUgc2VyaWVzIGxpbmVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfc2V0dXBTZXJpZXMoY2hhcnQ6IENoYXJ0WFksIG5hbWU6IHN0cmluZywgY29sb3I6IHN0cmluZyA9ICcjZmZmJyk6IExpbmVTZXJpZXMge1xyXG4gICAgICAgIGNvbnN0IHNlcmllcyA9IGNoYXJ0LmFkZExpbmVTZXJpZXMoe1xyXG4gICAgICAgICAgICBkYXRhUGF0dGVybjogRGF0YVBhdHRlcm5zLmhvcml6b250YWxQcm9ncmVzc2l2ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgc2VyaWVzXHJcbiAgICAgICAgICAgIC5zZXRTdHJva2VTdHlsZSgoc3R5bGU6IFNvbGlkTGluZSkgPT4gc3R5bGUuc2V0RmlsbFN0eWxlKChmaWxsOiBTb2xpZEZpbGwpID0+IGZpbGwuc2V0Q29sb3IoQ29sb3JIRVgoY29sb3IpKSkpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKG5hbWUpXHJcbiAgICAgICAgICAgIC5zZXRDdXJzb3JJbnRlcnBvbGF0aW9uRW5hYmxlZChmYWxzZSlcclxuICAgICAgICByZXR1cm4gc2VyaWVzXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgc2VyaWVzIHRoYXQgcmVxdWlyZSBtYW51YWwgcmVmcmVzaFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdXBkYXRlKCkge1xyXG4gICAgICAgIHRoaXMuX3Nlcmllcy5mcmVxdWVuY3kuZGlzcGxheS5jbGVhcigpXHJcbiAgICAgICAgdGhpcy5fc2VyaWVzLmZyZXF1ZW5jeS5kaXNwbGF5LmFkZCh0aGlzLl9wb2ludHMuZnJlcXVlbmN5KVxyXG4gICAgICAgIHRoaXMuX3Nlcmllcy5oaXN0b3J5LmNsZWFyKClcclxuICAgICAgICB0aGlzLl9zZXJpZXMuaGlzdG9yeS5hZGQodGhpcy5fcG9pbnRzLmhpc3RvcnkpXHJcbiAgICAgICAgdGhpcy5fc2VyaWVzLm1heEZyZXF1ZW5jeS5kaXNwbGF5LmNsZWFyKClcclxuICAgICAgICB0aGlzLl9zZXJpZXMubWF4RnJlcXVlbmN5LmRpc3BsYXkuYWRkKHRoaXMuX3BvaW50cy5tYXhIaXN0b3J5KVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGxheSBhdWRpb1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcGxheSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYXVkaW9DdHgucmVzdW1lKClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhdXNlIGF1ZGlvXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBwYXVzZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYXVkaW9DdHguc3VzcGVuZCgpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgZ2FpblxyXG4gICAgICogQHBhcmFtIGdhaW4gR2FpbiB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0R2FpbihnYWluOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9hdWRpb05vZGVzLmdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZShnYWluLCB0aGlzLl9hdWRpb0N0eC5jdXJyZW50VGltZSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCBhdWRpbyB2aXN1YWxpemVyIHNvdXJjZVxyXG4gICAgICogQHBhcmFtIHNvdXJjZSBTb3VyY2VcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldFNvdXJjZShzb3VyY2U/OiBBdWRpb05vZGUpIHtcclxuICAgICAgICBpZiAodGhpcy5fc291cmNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NvdXJjZS5kaXNjb25uZWN0KHRoaXMuX2F1ZGlvTm9kZXMuYW5hbHl6ZXIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3NvdXJjZSA9IHNvdXJjZVxyXG4gICAgICAgIGlmICh0aGlzLl9zb3VyY2UpXHJcbiAgICAgICAgICAgIHRoaXMuX3NvdXJjZS5jb25uZWN0KHRoaXMuX2F1ZGlvTm9kZXMuYW5hbHl6ZXIpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGF1ZGlvIGNvbnRleHQgb2YgdGhlIHZpc3VhbGl6ZXJcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldENvbnRleHQoKTogQXVkaW9Db250ZXh0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYXVkaW9DdHhcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgYXVkaW8gY29udGV4dCBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0U3RhdGUoKTogQXVkaW9Db250ZXh0U3RhdGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hdWRpb0N0eC5zdGF0ZVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGF1ZGlvIHNvdXJjZSBmcm9tIGEgdXJsXHJcbiAgICAgKiBAcGFyYW0gdXJsIFVybCBvZiB0aGUgYXVkaW8gc291cmNlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhc3luYyBjcmVhdGVVcmxTb3VyY2UodXJsOiBzdHJpbmcpOiBQcm9taXNlPEF1ZGlvTm9kZT4ge1xyXG4gICAgICAgIGNvbnN0IGJ1ZmYgPSBhd2FpdCBsb2FkQXVkaW9GaWxlKHVybCwgdGhpcy5fYXVkaW9DdHgpXHJcblxyXG4gICAgICAgIGNvbnN0IGJ1ZmZTcmMgPSB0aGlzLl9hdWRpb0N0eC5jcmVhdGVCdWZmZXJTb3VyY2UoKVxyXG4gICAgICAgIGJ1ZmZTcmMuYnVmZmVyID0gYnVmZlxyXG4gICAgICAgIGJ1ZmZTcmMuc3RhcnQoMClcclxuICAgICAgICBidWZmU3JjLmxvb3AgPSB0cnVlXHJcbiAgICAgICAgcmV0dXJuIGJ1ZmZTcmNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBtaWNyb3Bob25lIGF1ZGlvIHNvdXJjZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYXN5bmMgY3JlYXRlTWljU291cmNlKCk6IFByb21pc2U8QXVkaW9Ob2RlPiB7XHJcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyBhdWRpbzogdHJ1ZSB9KVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9hdWRpb0N0eC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShzdHJlYW0pXHJcbiAgICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n")},,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\n/**\r\n * Scale value from one scale to another\r\n * @param val Value to scale\r\n * @param origRange Range of the original scale\r\n * @param newRange New scale\r\n */\r\nexports.scaleToRange = function (val, origRange, newRange) {\r\n    return (val - origRange[0]) * (newRange[1] - newRange[0]) / (origRange[1] - origRange[0]) + newRange[0];\r\n};\r\n/**\r\n * Scaler that scales to from 0, 256 to a decibel range specified by analyzer node\r\n * @param analyzer Analyzer node of which the db scale should be used\r\n */\r\nexports.dbScaler = function (analyzer) { return function (n) { return exports.scaleToRange(n, [0, 256], [analyzer.minDecibels, analyzer.maxDecibels]); }; };\r\n/**\r\n * Scaler that scales from 0-256 to -1,1\r\n * @param n\r\n */\r\nexports.freqScaler = function (n) { return exports.scaleToRange(n, [0, 256], [-1, 1]); };\r\n/**\r\n * Scaler with no scaling\r\n * @param n\r\n */\r\nexports.noScaler = function (n) { return n; };\r\n/**\r\n * Scaler that scales by offset\r\n * @param offset Offset\r\n */\r\nexports.offSetScaler = function (offset) { return function (n) { return n + offset; }; };\r\n/**\r\n * Scaler that scales by multiplier\r\n * @param multiplier Multiplier of the scaler\r\n */\r\nexports.multiplierScaler = function (multiplier) { return function (n) { return n * multiplier; }; };\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMudHM/N2RkYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBOzs7OztHQUtHO0FBQ1Usb0JBQVksR0FBRyxVQUFDLEdBQVcsRUFBRSxTQUEyQixFQUFFLFFBQTBCO0lBQzdGLFFBQUMsR0FBRyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFBaEcsQ0FBZ0c7QUFFcEc7OztHQUdHO0FBQ1UsZ0JBQVEsR0FBRyxVQUFDLFFBQXNCLElBQWEsaUJBQUMsQ0FBUyxJQUFhLDJCQUFZLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBdkUsQ0FBdUUsRUFBOUYsQ0FBOEY7QUFFMUo7OztHQUdHO0FBQ1Usa0JBQVUsR0FBVyxVQUFDLENBQVMsSUFBYSwyQkFBWSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQWxDLENBQWtDO0FBRTNGOzs7R0FHRztBQUNVLGdCQUFRLEdBQVcsVUFBQyxDQUFDLElBQUssUUFBQyxFQUFELENBQUM7QUFFeEM7OztHQUdHO0FBQ1Usb0JBQVksR0FBRyxVQUFDLE1BQWMsSUFBYSxpQkFBQyxDQUFDLElBQUssUUFBQyxHQUFHLE1BQU0sRUFBVixDQUFVLEVBQWpCLENBQWlCO0FBRXpFOzs7R0FHRztBQUNVLHdCQUFnQixHQUFHLFVBQUMsVUFBVSxJQUFhLGlCQUFDLENBQUMsSUFBSyxRQUFDLEdBQUcsVUFBVSxFQUFkLENBQWMsRUFBckIsQ0FBcUIiLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdHlwZSBTY2FsZXIgPSAobjogbnVtYmVyKSA9PiBudW1iZXJcclxuXHJcbi8qKlxyXG4gKiBTY2FsZSB2YWx1ZSBmcm9tIG9uZSBzY2FsZSB0byBhbm90aGVyXHJcbiAqIEBwYXJhbSB2YWwgVmFsdWUgdG8gc2NhbGVcclxuICogQHBhcmFtIG9yaWdSYW5nZSBSYW5nZSBvZiB0aGUgb3JpZ2luYWwgc2NhbGVcclxuICogQHBhcmFtIG5ld1JhbmdlIE5ldyBzY2FsZVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHNjYWxlVG9SYW5nZSA9ICh2YWw6IG51bWJlciwgb3JpZ1JhbmdlOiBbbnVtYmVyLCBudW1iZXJdLCBuZXdSYW5nZTogW251bWJlciwgbnVtYmVyXSk6IG51bWJlciA9PlxyXG4gICAgKHZhbCAtIG9yaWdSYW5nZVswXSkgKiAobmV3UmFuZ2VbMV0gLSBuZXdSYW5nZVswXSkgLyAob3JpZ1JhbmdlWzFdIC0gb3JpZ1JhbmdlWzBdKSArIG5ld1JhbmdlWzBdXHJcblxyXG4vKipcclxuICogU2NhbGVyIHRoYXQgc2NhbGVzIHRvIGZyb20gMCwgMjU2IHRvIGEgZGVjaWJlbCByYW5nZSBzcGVjaWZpZWQgYnkgYW5hbHl6ZXIgbm9kZVxyXG4gKiBAcGFyYW0gYW5hbHl6ZXIgQW5hbHl6ZXIgbm9kZSBvZiB3aGljaCB0aGUgZGIgc2NhbGUgc2hvdWxkIGJlIHVzZWRcclxuICovXHJcbmV4cG9ydCBjb25zdCBkYlNjYWxlciA9IChhbmFseXplcjogQW5hbHlzZXJOb2RlKTogU2NhbGVyID0+IChuOiBudW1iZXIpOiBudW1iZXIgPT4gc2NhbGVUb1JhbmdlKG4sIFswLCAyNTZdLCBbYW5hbHl6ZXIubWluRGVjaWJlbHMsIGFuYWx5emVyLm1heERlY2liZWxzXSlcclxuXHJcbi8qKlxyXG4gKiBTY2FsZXIgdGhhdCBzY2FsZXMgZnJvbSAwLTI1NiB0byAtMSwxXHJcbiAqIEBwYXJhbSBuIFxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGZyZXFTY2FsZXI6IFNjYWxlciA9IChuOiBudW1iZXIpOiBudW1iZXIgPT4gc2NhbGVUb1JhbmdlKG4sIFswLCAyNTZdLCBbLTEsIDFdKVxyXG5cclxuLyoqXHJcbiAqIFNjYWxlciB3aXRoIG5vIHNjYWxpbmdcclxuICogQHBhcmFtIG4gXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgbm9TY2FsZXI6IFNjYWxlciA9IChuKSA9PiBuXHJcblxyXG4vKipcclxuICogU2NhbGVyIHRoYXQgc2NhbGVzIGJ5IG9mZnNldFxyXG4gKiBAcGFyYW0gb2Zmc2V0IE9mZnNldFxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IG9mZlNldFNjYWxlciA9IChvZmZzZXQ6IG51bWJlcik6IFNjYWxlciA9PiAobikgPT4gbiArIG9mZnNldFxyXG5cclxuLyoqXHJcbiAqIFNjYWxlciB0aGF0IHNjYWxlcyBieSBtdWx0aXBsaWVyXHJcbiAqIEBwYXJhbSBtdWx0aXBsaWVyIE11bHRpcGxpZXIgb2YgdGhlIHNjYWxlclxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IG11bHRpcGxpZXJTY2FsZXIgPSAobXVsdGlwbGllcik6IFNjYWxlciA9PiAobikgPT4gbiAqIG11bHRpcGxpZXJcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///16\n')}]);